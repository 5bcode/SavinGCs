"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/accounts/route";
exports.ids = ["app/api/accounts/route"];
exports.modules = {

/***/ "@libsql/client":
/*!*********************************!*\
  !*** external "@libsql/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@libsql/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faccounts%2Froute&page=%2Fapi%2Faccounts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faccounts%2Froute.ts&appDir=C%3A%5CUsers%5CG%5CDesktop%5CSavinGCs%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CG%5CDesktop%5CSavinGCs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faccounts%2Froute&page=%2Fapi%2Faccounts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faccounts%2Froute.ts&appDir=C%3A%5CUsers%5CG%5CDesktop%5CSavinGCs%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CG%5CDesktop%5CSavinGCs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_G_Desktop_SavinGCs_app_api_accounts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/accounts/route.ts */ \"(rsc)/./app/api/accounts/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/accounts/route\",\n        pathname: \"/api/accounts\",\n        filename: \"route\",\n        bundlePath: \"app/api/accounts/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\G\\\\Desktop\\\\SavinGCs\\\\app\\\\api\\\\accounts\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_G_Desktop_SavinGCs_app_api_accounts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/accounts/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhY2NvdW50cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWNjb3VudHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhY2NvdW50cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNHJTVDRGVza3RvcCU1Q1NhdmluR0NzJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNHJTVDRGVza3RvcCU1Q1NhdmluR0NzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNhO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2F2aW5nc3RyYWNrZXIvP2YyMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcR1xcXFxEZXNrdG9wXFxcXFNhdmluR0NzXFxcXGFwcFxcXFxhcGlcXFxcYWNjb3VudHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FjY291bnRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWNjb3VudHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FjY291bnRzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcR1xcXFxEZXNrdG9wXFxcXFNhdmluR0NzXFxcXGFwcFxcXFxhcGlcXFxcYWNjb3VudHNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FjY291bnRzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faccounts%2Froute&page=%2Fapi%2Faccounts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faccounts%2Froute.ts&appDir=C%3A%5CUsers%5CG%5CDesktop%5CSavinGCs%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CG%5CDesktop%5CSavinGCs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/accounts/route.ts":
/*!***********************************!*\
  !*** ./app/api/accounts/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db_turso__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db_turso */ \"(rsc)/./lib/db_turso.ts\");\n\n\nasync function GET() {\n    try {\n        const result = await _lib_db_turso__WEBPACK_IMPORTED_MODULE_1__.dbClient.execute(`\r\n            SELECT \r\n                a.*,\r\n                sp.name as pot_name,\r\n                sp.color as pot_color\r\n            FROM accounts a\r\n            JOIN savings_pots sp ON sp.id = a.pot_id\r\n            ORDER BY sp.priority DESC, a.account_name ASC\r\n        `);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            accounts: result.rows\n        });\n    } catch (error) {\n        console.error(\"Error fetching accounts:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch accounts\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Handle both potential JSON structures if body is wrapped or flat\n        const { pot_id, account_name, account_type, current_balance, owner, starting_balance_date } = body;\n        // Map camelCase if coming from frontend with inconsistent naming, or snake_case\n        // The frontend currently sends: potId, accountName, accountType, currentBalance, owner, startingBalanceDate\n        // Let's support both just in case.\n        const potId = pot_id || body.potId;\n        const accountName = account_name || body.accountName;\n        const accountType = account_type || body.accountType;\n        const currentBalance = current_balance || body.currentBalance || 0;\n        const ownerName = owner || body.owner || \"Joint\";\n        const startingDate = starting_balance_date || body.startingBalanceDate || new Date().toISOString().split(\"T\")[0];\n        const balance = parseFloat(currentBalance);\n        // 1. Get User ID based on owner name (Manual lookup)\n        let userId = 1;\n        const userRes = await _lib_db_turso__WEBPACK_IMPORTED_MODULE_1__.dbClient.execute({\n            sql: \"SELECT id FROM users WHERE display_name = ?\",\n            args: [\n                ownerName\n            ]\n        });\n        if (userRes.rows.length > 0) {\n            userId = Number(userRes.rows[0].id);\n        }\n        // 2. Insert Account\n        const insertAccountRes = await _lib_db_turso__WEBPACK_IMPORTED_MODULE_1__.dbClient.execute({\n            sql: `INSERT INTO accounts (pot_id, account_name, account_type, owner, current_balance, last_updated)\r\n                  VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP) RETURNING id`,\n            args: [\n                potId,\n                accountName,\n                accountType,\n                ownerName,\n                balance\n            ]\n        });\n        // Some drivers return lastInsertRowid, others return rows with RETURNING.\n        // Turso/LibSQL via http often supports RETURNING id.\n        let newAccountId = Number(insertAccountRes.lastInsertRowid);\n        if (!newAccountId && insertAccountRes.rows.length > 0) {\n            newAccountId = Number(insertAccountRes.rows[0].id);\n        }\n        // 3. Insert Transaction\n        if (balance !== 0 || body.startingBalanceDate) {\n            await _lib_db_turso__WEBPACK_IMPORTED_MODULE_1__.dbClient.execute({\n                sql: `INSERT INTO transactions (account_id, user_id, amount, description, transaction_date)\r\n                      VALUES (?, ?, ?, 'Opening Balance', ?)`,\n                args: [\n                    newAccountId,\n                    userId,\n                    balance,\n                    startingDate\n                ]\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            id: newAccountId\n        });\n    } catch (error) {\n        console.error(\"Error creating account:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to create account\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQUVFLFFBQVE7UUFBSTtJQUNsRjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2F2aW5nc3RyYWNrZXIvLi9hcHAvYXBpL2FjY291bnRzL3JvdXRlLnRzPzFhMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgZGJDbGllbnQgfSBmcm9tICdAL2xpYi9kYl90dXJzbyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYkNsaWVudC5leGVjdXRlKGBcclxuICAgICAgICAgICAgU0VMRUNUIFxyXG4gICAgICAgICAgICAgICAgYS4qLFxyXG4gICAgICAgICAgICAgICAgc3AubmFtZSBhcyBwb3RfbmFtZSxcclxuICAgICAgICAgICAgICAgIHNwLmNvbG9yIGFzIHBvdF9jb2xvclxyXG4gICAgICAgICAgICBGUk9NIGFjY291bnRzIGFcclxuICAgICAgICAgICAgSk9JTiBzYXZpbmdzX3BvdHMgc3AgT04gc3AuaWQgPSBhLnBvdF9pZFxyXG4gICAgICAgICAgICBPUkRFUiBCWSBzcC5wcmlvcml0eSBERVNDLCBhLmFjY291bnRfbmFtZSBBU0NcclxuICAgICAgICBgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgYWNjb3VudHM6IHJlc3VsdC5yb3dzIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhY2NvdW50czonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggYWNjb3VudHMnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgICAgICAvLyBIYW5kbGUgYm90aCBwb3RlbnRpYWwgSlNPTiBzdHJ1Y3R1cmVzIGlmIGJvZHkgaXMgd3JhcHBlZCBvciBmbGF0XHJcbiAgICAgICAgY29uc3QgeyBwb3RfaWQsIGFjY291bnRfbmFtZSwgYWNjb3VudF90eXBlLCBjdXJyZW50X2JhbGFuY2UsIG93bmVyLCBzdGFydGluZ19iYWxhbmNlX2RhdGUgfSA9IGJvZHk7XHJcblxyXG4gICAgICAgIC8vIE1hcCBjYW1lbENhc2UgaWYgY29taW5nIGZyb20gZnJvbnRlbmQgd2l0aCBpbmNvbnNpc3RlbnQgbmFtaW5nLCBvciBzbmFrZV9jYXNlXHJcbiAgICAgICAgLy8gVGhlIGZyb250ZW5kIGN1cnJlbnRseSBzZW5kczogcG90SWQsIGFjY291bnROYW1lLCBhY2NvdW50VHlwZSwgY3VycmVudEJhbGFuY2UsIG93bmVyLCBzdGFydGluZ0JhbGFuY2VEYXRlXHJcbiAgICAgICAgLy8gTGV0J3Mgc3VwcG9ydCBib3RoIGp1c3QgaW4gY2FzZS5cclxuICAgICAgICBjb25zdCBwb3RJZCA9IHBvdF9pZCB8fCBib2R5LnBvdElkO1xyXG4gICAgICAgIGNvbnN0IGFjY291bnROYW1lID0gYWNjb3VudF9uYW1lIHx8IGJvZHkuYWNjb3VudE5hbWU7XHJcbiAgICAgICAgY29uc3QgYWNjb3VudFR5cGUgPSBhY2NvdW50X3R5cGUgfHwgYm9keS5hY2NvdW50VHlwZTtcclxuICAgICAgICBjb25zdCBjdXJyZW50QmFsYW5jZSA9IGN1cnJlbnRfYmFsYW5jZSB8fCBib2R5LmN1cnJlbnRCYWxhbmNlIHx8IDA7XHJcbiAgICAgICAgY29uc3Qgb3duZXJOYW1lID0gb3duZXIgfHwgYm9keS5vd25lciB8fCAnSm9pbnQnO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0aW5nRGF0ZSA9IHN0YXJ0aW5nX2JhbGFuY2VfZGF0ZSB8fCBib2R5LnN0YXJ0aW5nQmFsYW5jZURhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XHJcblxyXG4gICAgICAgIGNvbnN0IGJhbGFuY2UgPSBwYXJzZUZsb2F0KGN1cnJlbnRCYWxhbmNlKTtcclxuXHJcbiAgICAgICAgLy8gMS4gR2V0IFVzZXIgSUQgYmFzZWQgb24gb3duZXIgbmFtZSAoTWFudWFsIGxvb2t1cClcclxuICAgICAgICBsZXQgdXNlcklkID0gMTtcclxuICAgICAgICBjb25zdCB1c2VyUmVzID0gYXdhaXQgZGJDbGllbnQuZXhlY3V0ZSh7XHJcbiAgICAgICAgICAgIHNxbDogJ1NFTEVDVCBpZCBGUk9NIHVzZXJzIFdIRVJFIGRpc3BsYXlfbmFtZSA9ID8nLFxyXG4gICAgICAgICAgICBhcmdzOiBbb3duZXJOYW1lXVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodXNlclJlcy5yb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdXNlcklkID0gTnVtYmVyKHVzZXJSZXMucm93c1swXS5pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAyLiBJbnNlcnQgQWNjb3VudFxyXG4gICAgICAgIGNvbnN0IGluc2VydEFjY291bnRSZXMgPSBhd2FpdCBkYkNsaWVudC5leGVjdXRlKHtcclxuICAgICAgICAgICAgc3FsOiBgSU5TRVJUIElOVE8gYWNjb3VudHMgKHBvdF9pZCwgYWNjb3VudF9uYW1lLCBhY2NvdW50X3R5cGUsIG93bmVyLCBjdXJyZW50X2JhbGFuY2UsIGxhc3RfdXBkYXRlZClcclxuICAgICAgICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCBDVVJSRU5UX1RJTUVTVEFNUCkgUkVUVVJOSU5HIGlkYCxcclxuICAgICAgICAgICAgYXJnczogW3BvdElkLCBhY2NvdW50TmFtZSwgYWNjb3VudFR5cGUsIG93bmVyTmFtZSwgYmFsYW5jZV1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU29tZSBkcml2ZXJzIHJldHVybiBsYXN0SW5zZXJ0Um93aWQsIG90aGVycyByZXR1cm4gcm93cyB3aXRoIFJFVFVSTklORy5cclxuICAgICAgICAvLyBUdXJzby9MaWJTUUwgdmlhIGh0dHAgb2Z0ZW4gc3VwcG9ydHMgUkVUVVJOSU5HIGlkLlxyXG4gICAgICAgIGxldCBuZXdBY2NvdW50SWQgPSBOdW1iZXIoaW5zZXJ0QWNjb3VudFJlcy5sYXN0SW5zZXJ0Um93aWQpO1xyXG4gICAgICAgIGlmICghbmV3QWNjb3VudElkICYmIGluc2VydEFjY291bnRSZXMucm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG5ld0FjY291bnRJZCA9IE51bWJlcihpbnNlcnRBY2NvdW50UmVzLnJvd3NbMF0uaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMy4gSW5zZXJ0IFRyYW5zYWN0aW9uXHJcbiAgICAgICAgaWYgKGJhbGFuY2UgIT09IDAgfHwgYm9keS5zdGFydGluZ0JhbGFuY2VEYXRlKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGRiQ2xpZW50LmV4ZWN1dGUoe1xyXG4gICAgICAgICAgICAgICAgc3FsOiBgSU5TRVJUIElOVE8gdHJhbnNhY3Rpb25zIChhY2NvdW50X2lkLCB1c2VyX2lkLCBhbW91bnQsIGRlc2NyaXB0aW9uLCB0cmFuc2FjdGlvbl9kYXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCAnT3BlbmluZyBCYWxhbmNlJywgPylgLFxyXG4gICAgICAgICAgICAgICAgYXJnczogW25ld0FjY291bnRJZCwgdXNlcklkLCBiYWxhbmNlLCBzdGFydGluZ0RhdGVdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgaWQ6IG5ld0FjY291bnRJZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhY2NvdW50OicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgYWNjb3VudCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZGJDbGllbnQiLCJHRVQiLCJyZXN1bHQiLCJleGVjdXRlIiwianNvbiIsImFjY291bnRzIiwicm93cyIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsInBvdF9pZCIsImFjY291bnRfbmFtZSIsImFjY291bnRfdHlwZSIsImN1cnJlbnRfYmFsYW5jZSIsIm93bmVyIiwic3RhcnRpbmdfYmFsYW5jZV9kYXRlIiwicG90SWQiLCJhY2NvdW50TmFtZSIsImFjY291bnRUeXBlIiwiY3VycmVudEJhbGFuY2UiLCJvd25lck5hbWUiLCJzdGFydGluZ0RhdGUiLCJzdGFydGluZ0JhbGFuY2VEYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJiYWxhbmNlIiwicGFyc2VGbG9hdCIsInVzZXJJZCIsInVzZXJSZXMiLCJzcWwiLCJhcmdzIiwibGVuZ3RoIiwiTnVtYmVyIiwiaWQiLCJpbnNlcnRBY2NvdW50UmVzIiwibmV3QWNjb3VudElkIiwibGFzdEluc2VydFJvd2lkIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/accounts/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db_turso.ts":
/*!*************************!*\
  !*** ./lib/db_turso.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbClient: () => (/* binding */ dbClient),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase)\n/* harmony export */ });\n/* harmony import */ var _libsql_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @libsql/client */ \"@libsql/client\");\n/* harmony import */ var _libsql_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_libsql_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n\n\n\n\n// Determine if we are using a remote Turso/LibSQL database or a local SQLite file\nconst isRemote = process.env.DATABASE_URL?.includes(\"libsql\") || process.env.DATABASE_URL?.includes(\"turso\");\n// We need an abstraction layer because better-sqlite3 and @libsql/client have different APIs\n// Ideally we would use an ORM like Drizzle or Prisma, but to keep changes minimal we will wrap the client.\n// However, rewriting the entire app to use a new driver wrapper is risky.\n// A better approach for this migration without ORM:\n// maintain the better-sqlite3 instance for local dev if desired, but if remote, we need a compatible interface.\n// Since the app uses synchronous calls (.prepare().run(), .get(), .all()), and @libsql/client is async,\n// we have a significant refactoring challenge if we switch to the remote client directly.\n// options:\n// 1. Refactor all DB calls to be async (Best for long term, but touches many files)\n// 2. Use 'better-sqlite3' for everything if possible? (No, better-sqlite3 doesn't support http/ws remote protocols of Turso)\n// 3. Setup a local replica using embedded sync? (Turso supports embedded replicas in Node)\n// Strategy:\n// To support Turso effectively in a serverless/edge environment, we should use the http client.\n// But that requires async/await.\n// ALL our API routes currently use synchronous db calls.\n// We MUST refactor the DB layer to be async to support Turso / Neon (via serverless drivers).\n// Let's create a Database Adapter interface.\n// ... actually, for a \"quick\" migration to cloud run with a persistent disk, we could stick to better-sqlite3.\n// But the user specifically asked for \"Turso/Neon\".\n// Let's implement a singleton client that exposes the necessary methods.\n// We will have to update the API routes to await the results.\nconst dbClient = (0,_libsql_client__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n    url: process.env.DATABASE_URL || \"file:savings-tracker.db\",\n    authToken: process.env.DATABASE_AUTH_TOKEN\n});\n// Helper to run migrations / init\nasync function initializeDatabase() {\n    // For remote DBs, we might not want to run this on every cold start if it's slow, \n    // but for safety we'll ensure tables exist.\n    // We can iterate split statements or just run the raw SQL if the driver supports multiple statements.\n    // @libsql/client executeMultiple is useful here.\n    const schemaPath = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(process.cwd(), \"lib\", \"schema.sql\");\n    let schema = \"\";\n    try {\n        schema = (0,fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync)(schemaPath, \"utf-8\");\n    } catch (err) {\n        console.error(\"Could not read schema file\", err);\n        return;\n    }\n    // Split schema by semi-colon to run individually if needed, or try batch\n    await dbClient.executeMultiple(schema);\n    // Migration: add owner column\n    // We need to check columns.\n    try {\n        const result = await dbClient.execute(\"PRAGMA table_info(accounts)\");\n        const cols = result.rows;\n        const hasOwner = cols.some((c)=>c.name === \"owner\");\n        if (!hasOwner) {\n            await dbClient.execute(\"ALTER TABLE accounts ADD COLUMN owner TEXT NOT NULL DEFAULT 'Joint'\");\n            console.log(\"Migration: added owner column\");\n        }\n    } catch (e) {\n        console.error(\"Migration check failed\", e);\n    }\n    // Default users\n    const userCountRes = await dbClient.execute(\"SELECT COUNT(*) as count FROM users\");\n    const userCount = Number(userCountRes.rows[0].count);\n    if (userCount === 0) {\n        const salt = bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].genSaltSync(10);\n        const defaultPassword = bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].hashSync(\"loveyou\", salt);\n        await dbClient.execute({\n            sql: \"INSERT INTO users (username, password_hash, display_name) VALUES (?, ?, ?)\",\n            args: [\n                \"gary\",\n                defaultPassword,\n                \"Gary\"\n            ]\n        });\n        await dbClient.execute({\n            sql: \"INSERT INTO users (username, password_hash, display_name) VALUES (?, ?, ?)\",\n            args: [\n                \"catherine\",\n                defaultPassword,\n                \"Catherine\"\n            ]\n        });\n        console.log(\"Created default users\");\n    }\n    // Default Pot\n    const unallocatedRes = await dbClient.execute(\"SELECT id FROM savings_pots WHERE name = 'Unallocated'\");\n    if (unallocatedRes.rows.length === 0) {\n        await dbClient.execute({\n            sql: \"INSERT INTO savings_pots (name, goal_amount, color, icon, priority) VALUES ('Unallocated', NULL, '#64748B', 'savings', 9999)\",\n            args: []\n        });\n    }\n}\n// Wrapper for backward compatibility (simulating synchronous better-sqlite3 API via async methods)\n// API routes will need update to await db.prepare()...\nclass DBWrapper {\n    prepare(sql) {\n        return {\n            get: async (...args)=>{\n                const res = await dbClient.execute({\n                    sql,\n                    args\n                });\n                return res.rows[0];\n            },\n            all: async (...args)=>{\n                const res = await dbClient.execute({\n                    sql,\n                    args\n                });\n                return res.rows;\n            },\n            run: async (...args)=>{\n                const res = await dbClient.execute({\n                    sql,\n                    args\n                });\n                return {\n                    lastInsertRowid: res.lastInsertRowid,\n                    changes: res.rowsAffected\n                };\n            }\n        };\n    }\n    // Transaction support is tricky with HTTP. libSQL supports batching but true interactive transactions might be different.\n    // For now, we will execute the callback? No, valid transactions in serverless are complex.\n    // We will assume 'transaction' takes a function and we just execute it. \n    // REALITY CHECK: The current codebase uses synchronous transactions: db.transaction(() => { ... })()\n    // We CANNOT easily polyfill that to be async without changing the calling code structure significantly.\n    // We will rely on simple batching or we have to rewrite the transact logic in route handlers.\n    transaction(fn) {\n        return async (...args)=>{\n            // This acts as a pass-through shim. \n            // The logic inside fn() will fail because it expects synchronous results from db.prepare\n            // WE MUST REWRITE THE CALL SITES.\n            console.warn(\"Transactions are not fully supported in async wrapper yet.\");\n            // We can't really wrap this efficiently without changing the consumer to be async aware.\n            return fn(args);\n        };\n    }\n    pragma(sql) {\n    // defined for compatibility but might need to be async or ignored\n    // dbClient.execute(sql); // fire and forget/await?\n    }\n    exec(sql) {\n        return dbClient.executeMultiple(sql);\n    }\n}\n// Default export acting as the DB instance\nconst db = new DBWrapper();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (db);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNqQixPQUFPO1lBQ0hNLEtBQUssT0FBTyxHQUFHTDtnQkFDWCxNQUFNTSxNQUFNLE1BQU1yQyxTQUFTYSxPQUFPLENBQUM7b0JBQUVpQjtvQkFBS0M7Z0JBQUs7Z0JBQy9DLE9BQU9NLElBQUl0QixJQUFJLENBQUMsRUFBRTtZQUN0QjtZQUNBdUIsS0FBSyxPQUFPLEdBQUdQO2dCQUNYLE1BQU1NLE1BQU0sTUFBTXJDLFNBQVNhLE9BQU8sQ0FBQztvQkFBRWlCO29CQUFLQztnQkFBSztnQkFDL0MsT0FBT00sSUFBSXRCLElBQUk7WUFDbkI7WUFDQXdCLEtBQUssT0FBTyxHQUFHUjtnQkFDWCxNQUFNTSxNQUFNLE1BQU1yQyxTQUFTYSxPQUFPLENBQUM7b0JBQUVpQjtvQkFBS0M7Z0JBQUs7Z0JBQy9DLE9BQU87b0JBQUVTLGlCQUFpQkgsSUFBSUcsZUFBZTtvQkFBRUMsU0FBU0osSUFBSUssWUFBWTtnQkFBQztZQUM3RTtRQUNKO0lBQ0o7SUFFQSwwSEFBMEg7SUFDMUgsMkZBQTJGO0lBQzNGLHlFQUF5RTtJQUN6RSxxR0FBcUc7SUFDckcsd0dBQXdHO0lBRXhHLDhGQUE4RjtJQUM5RkMsWUFBWUMsRUFBc0IsRUFBRTtRQUNoQyxPQUFPLE9BQU8sR0FBR2I7WUFDYixxQ0FBcUM7WUFDckMseUZBQXlGO1lBQ3pGLGtDQUFrQztZQUNsQ3RCLFFBQVFvQyxJQUFJLENBQUM7WUFDYix5RkFBeUY7WUFDekYsT0FBT0QsR0FBR2I7UUFDZDtJQUNKO0lBRUFlLE9BQU9oQixHQUFXLEVBQUU7SUFDaEIsa0VBQWtFO0lBQ2xFLG1EQUFtRDtJQUN2RDtJQUVBaUIsS0FBS2pCLEdBQVcsRUFBRTtRQUNkLE9BQU85QixTQUFTVyxlQUFlLENBQUNtQjtJQUNwQztBQUNKO0FBRUEsMkNBQTJDO0FBQzNDLE1BQU1rQixLQUFLLElBQUlkO0FBQ2YsaUVBQWVjLEVBQUVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYXZpbmdzdHJhY2tlci8uL2xpYi9kYl90dXJzby50cz83NzJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BsaWJzcWwvY2xpZW50JztcclxuaW1wb3J0IERhdGFiYXNlIGZyb20gJ2JldHRlci1zcWxpdGUzJztcclxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5cclxuLy8gRGV0ZXJtaW5lIGlmIHdlIGFyZSB1c2luZyBhIHJlbW90ZSBUdXJzby9MaWJTUUwgZGF0YWJhc2Ugb3IgYSBsb2NhbCBTUUxpdGUgZmlsZVxyXG5jb25zdCBpc1JlbW90ZSA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTD8uaW5jbHVkZXMoJ2xpYnNxbCcpIHx8IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTD8uaW5jbHVkZXMoJ3R1cnNvJyk7XHJcblxyXG4vLyBXZSBuZWVkIGFuIGFic3RyYWN0aW9uIGxheWVyIGJlY2F1c2UgYmV0dGVyLXNxbGl0ZTMgYW5kIEBsaWJzcWwvY2xpZW50IGhhdmUgZGlmZmVyZW50IEFQSXNcclxuLy8gSWRlYWxseSB3ZSB3b3VsZCB1c2UgYW4gT1JNIGxpa2UgRHJpenpsZSBvciBQcmlzbWEsIGJ1dCB0byBrZWVwIGNoYW5nZXMgbWluaW1hbCB3ZSB3aWxsIHdyYXAgdGhlIGNsaWVudC5cclxuLy8gSG93ZXZlciwgcmV3cml0aW5nIHRoZSBlbnRpcmUgYXBwIHRvIHVzZSBhIG5ldyBkcml2ZXIgd3JhcHBlciBpcyByaXNreS5cclxuLy8gQSBiZXR0ZXIgYXBwcm9hY2ggZm9yIHRoaXMgbWlncmF0aW9uIHdpdGhvdXQgT1JNOlxyXG4vLyBtYWludGFpbiB0aGUgYmV0dGVyLXNxbGl0ZTMgaW5zdGFuY2UgZm9yIGxvY2FsIGRldiBpZiBkZXNpcmVkLCBidXQgaWYgcmVtb3RlLCB3ZSBuZWVkIGEgY29tcGF0aWJsZSBpbnRlcmZhY2UuXHJcblxyXG4vLyBTaW5jZSB0aGUgYXBwIHVzZXMgc3luY2hyb25vdXMgY2FsbHMgKC5wcmVwYXJlKCkucnVuKCksIC5nZXQoKSwgLmFsbCgpKSwgYW5kIEBsaWJzcWwvY2xpZW50IGlzIGFzeW5jLFxyXG4vLyB3ZSBoYXZlIGEgc2lnbmlmaWNhbnQgcmVmYWN0b3JpbmcgY2hhbGxlbmdlIGlmIHdlIHN3aXRjaCB0byB0aGUgcmVtb3RlIGNsaWVudCBkaXJlY3RseS5cclxuLy8gb3B0aW9uczpcclxuLy8gMS4gUmVmYWN0b3IgYWxsIERCIGNhbGxzIHRvIGJlIGFzeW5jIChCZXN0IGZvciBsb25nIHRlcm0sIGJ1dCB0b3VjaGVzIG1hbnkgZmlsZXMpXHJcbi8vIDIuIFVzZSAnYmV0dGVyLXNxbGl0ZTMnIGZvciBldmVyeXRoaW5nIGlmIHBvc3NpYmxlPyAoTm8sIGJldHRlci1zcWxpdGUzIGRvZXNuJ3Qgc3VwcG9ydCBodHRwL3dzIHJlbW90ZSBwcm90b2NvbHMgb2YgVHVyc28pXHJcbi8vIDMuIFNldHVwIGEgbG9jYWwgcmVwbGljYSB1c2luZyBlbWJlZGRlZCBzeW5jPyAoVHVyc28gc3VwcG9ydHMgZW1iZWRkZWQgcmVwbGljYXMgaW4gTm9kZSlcclxuXHJcbi8vIFN0cmF0ZWd5OlxyXG4vLyBUbyBzdXBwb3J0IFR1cnNvIGVmZmVjdGl2ZWx5IGluIGEgc2VydmVybGVzcy9lZGdlIGVudmlyb25tZW50LCB3ZSBzaG91bGQgdXNlIHRoZSBodHRwIGNsaWVudC5cclxuLy8gQnV0IHRoYXQgcmVxdWlyZXMgYXN5bmMvYXdhaXQuXHJcbi8vIEFMTCBvdXIgQVBJIHJvdXRlcyBjdXJyZW50bHkgdXNlIHN5bmNocm9ub3VzIGRiIGNhbGxzLlxyXG4vLyBXZSBNVVNUIHJlZmFjdG9yIHRoZSBEQiBsYXllciB0byBiZSBhc3luYyB0byBzdXBwb3J0IFR1cnNvIC8gTmVvbiAodmlhIHNlcnZlcmxlc3MgZHJpdmVycykuXHJcblxyXG4vLyBMZXQncyBjcmVhdGUgYSBEYXRhYmFzZSBBZGFwdGVyIGludGVyZmFjZS5cclxuXHJcbi8vIC4uLiBhY3R1YWxseSwgZm9yIGEgXCJxdWlja1wiIG1pZ3JhdGlvbiB0byBjbG91ZCBydW4gd2l0aCBhIHBlcnNpc3RlbnQgZGlzaywgd2UgY291bGQgc3RpY2sgdG8gYmV0dGVyLXNxbGl0ZTMuXHJcbi8vIEJ1dCB0aGUgdXNlciBzcGVjaWZpY2FsbHkgYXNrZWQgZm9yIFwiVHVyc28vTmVvblwiLlxyXG5cclxuLy8gTGV0J3MgaW1wbGVtZW50IGEgc2luZ2xldG9uIGNsaWVudCB0aGF0IGV4cG9zZXMgdGhlIG5lY2Vzc2FyeSBtZXRob2RzLlxyXG4vLyBXZSB3aWxsIGhhdmUgdG8gdXBkYXRlIHRoZSBBUEkgcm91dGVzIHRvIGF3YWl0IHRoZSByZXN1bHRzLlxyXG5cclxuZXhwb3J0IGNvbnN0IGRiQ2xpZW50ID0gY3JlYXRlQ2xpZW50KHtcclxuICAgIHVybDogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMIHx8ICdmaWxlOnNhdmluZ3MtdHJhY2tlci5kYicsXHJcbiAgICBhdXRoVG9rZW46IHByb2Nlc3MuZW52LkRBVEFCQVNFX0FVVEhfVE9LRU4sXHJcbn0pO1xyXG5cclxuLy8gSGVscGVyIHRvIHJ1biBtaWdyYXRpb25zIC8gaW5pdFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZURhdGFiYXNlKCkge1xyXG4gICAgLy8gRm9yIHJlbW90ZSBEQnMsIHdlIG1pZ2h0IG5vdCB3YW50IHRvIHJ1biB0aGlzIG9uIGV2ZXJ5IGNvbGQgc3RhcnQgaWYgaXQncyBzbG93LCBcclxuICAgIC8vIGJ1dCBmb3Igc2FmZXR5IHdlJ2xsIGVuc3VyZSB0YWJsZXMgZXhpc3QuXHJcblxyXG4gICAgLy8gV2UgY2FuIGl0ZXJhdGUgc3BsaXQgc3RhdGVtZW50cyBvciBqdXN0IHJ1biB0aGUgcmF3IFNRTCBpZiB0aGUgZHJpdmVyIHN1cHBvcnRzIG11bHRpcGxlIHN0YXRlbWVudHMuXHJcbiAgICAvLyBAbGlic3FsL2NsaWVudCBleGVjdXRlTXVsdGlwbGUgaXMgdXNlZnVsIGhlcmUuXHJcblxyXG4gICAgY29uc3Qgc2NoZW1hUGF0aCA9IGpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2xpYicsICdzY2hlbWEuc3FsJyk7XHJcbiAgICBsZXQgc2NoZW1hID0gJyc7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBzY2hlbWEgPSByZWFkRmlsZVN5bmMoc2NoZW1hUGF0aCwgJ3V0Zi04Jyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgcmVhZCBzY2hlbWEgZmlsZScsIGVycik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNwbGl0IHNjaGVtYSBieSBzZW1pLWNvbG9uIHRvIHJ1biBpbmRpdmlkdWFsbHkgaWYgbmVlZGVkLCBvciB0cnkgYmF0Y2hcclxuICAgIGF3YWl0IGRiQ2xpZW50LmV4ZWN1dGVNdWx0aXBsZShzY2hlbWEpO1xyXG5cclxuICAgIC8vIE1pZ3JhdGlvbjogYWRkIG93bmVyIGNvbHVtblxyXG4gICAgLy8gV2UgbmVlZCB0byBjaGVjayBjb2x1bW5zLlxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYkNsaWVudC5leGVjdXRlKFwiUFJBR01BIHRhYmxlX2luZm8oYWNjb3VudHMpXCIpO1xyXG4gICAgICAgIGNvbnN0IGNvbHMgPSByZXN1bHQucm93cztcclxuICAgICAgICBjb25zdCBoYXNPd25lciA9IGNvbHMuc29tZShjID0+IGMubmFtZSA9PT0gJ293bmVyJyk7XHJcblxyXG4gICAgICAgIGlmICghaGFzT3duZXIpIHtcclxuICAgICAgICAgICAgYXdhaXQgZGJDbGllbnQuZXhlY3V0ZShcIkFMVEVSIFRBQkxFIGFjY291bnRzIEFERCBDT0xVTU4gb3duZXIgVEVYVCBOT1QgTlVMTCBERUZBVUxUICdKb2ludCdcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNaWdyYXRpb246IGFkZGVkIG93bmVyIGNvbHVtbicpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdNaWdyYXRpb24gY2hlY2sgZmFpbGVkJywgZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVmYXVsdCB1c2Vyc1xyXG4gICAgY29uc3QgdXNlckNvdW50UmVzID0gYXdhaXQgZGJDbGllbnQuZXhlY3V0ZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gdXNlcnMnKTtcclxuICAgIGNvbnN0IHVzZXJDb3VudCA9IE51bWJlcih1c2VyQ291bnRSZXMucm93c1swXS5jb3VudCk7XHJcblxyXG4gICAgaWYgKHVzZXJDb3VudCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnN0IHNhbHQgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYygnbG92ZXlvdScsIHNhbHQpO1xyXG5cclxuICAgICAgICBhd2FpdCBkYkNsaWVudC5leGVjdXRlKHtcclxuICAgICAgICAgICAgc3FsOiAnSU5TRVJUIElOVE8gdXNlcnMgKHVzZXJuYW1lLCBwYXNzd29yZF9oYXNoLCBkaXNwbGF5X25hbWUpIFZBTFVFUyAoPywgPywgPyknLFxyXG4gICAgICAgICAgICBhcmdzOiBbJ2dhcnknLCBkZWZhdWx0UGFzc3dvcmQsICdHYXJ5J11cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXdhaXQgZGJDbGllbnQuZXhlY3V0ZSh7XHJcbiAgICAgICAgICAgIHNxbDogJ0lOU0VSVCBJTlRPIHVzZXJzICh1c2VybmFtZSwgcGFzc3dvcmRfaGFzaCwgZGlzcGxheV9uYW1lKSBWQUxVRVMgKD8sID8sID8pJyxcclxuICAgICAgICAgICAgYXJnczogWydjYXRoZXJpbmUnLCBkZWZhdWx0UGFzc3dvcmQsICdDYXRoZXJpbmUnXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGVkIGRlZmF1bHQgdXNlcnMnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZWZhdWx0IFBvdFxyXG4gICAgY29uc3QgdW5hbGxvY2F0ZWRSZXMgPSBhd2FpdCBkYkNsaWVudC5leGVjdXRlKFwiU0VMRUNUIGlkIEZST00gc2F2aW5nc19wb3RzIFdIRVJFIG5hbWUgPSAnVW5hbGxvY2F0ZWQnXCIpO1xyXG4gICAgaWYgKHVuYWxsb2NhdGVkUmVzLnJvd3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgYXdhaXQgZGJDbGllbnQuZXhlY3V0ZSh7XHJcbiAgICAgICAgICAgIHNxbDogXCJJTlNFUlQgSU5UTyBzYXZpbmdzX3BvdHMgKG5hbWUsIGdvYWxfYW1vdW50LCBjb2xvciwgaWNvbiwgcHJpb3JpdHkpIFZBTFVFUyAoJ1VuYWxsb2NhdGVkJywgTlVMTCwgJyM2NDc0OEInLCAnc2F2aW5ncycsIDk5OTkpXCIsXHJcbiAgICAgICAgICAgIGFyZ3M6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFdyYXBwZXIgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgKHNpbXVsYXRpbmcgc3luY2hyb25vdXMgYmV0dGVyLXNxbGl0ZTMgQVBJIHZpYSBhc3luYyBtZXRob2RzKVxyXG4vLyBBUEkgcm91dGVzIHdpbGwgbmVlZCB1cGRhdGUgdG8gYXdhaXQgZGIucHJlcGFyZSgpLi4uXHJcbmNsYXNzIERCV3JhcHBlciB7XHJcbiAgICBwcmVwYXJlKHNxbDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0OiBhc3luYyAoLi4uYXJnczogYW55W10pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGRiQ2xpZW50LmV4ZWN1dGUoeyBzcWwsIGFyZ3MgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnJvd3NbMF07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFsbDogYXN5bmMgKC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBkYkNsaWVudC5leGVjdXRlKHsgc3FsLCBhcmdzIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5yb3dzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBydW46IGFzeW5jICguLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZGJDbGllbnQuZXhlY3V0ZSh7IHNxbCwgYXJncyB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGxhc3RJbnNlcnRSb3dpZDogcmVzLmxhc3RJbnNlcnRSb3dpZCwgY2hhbmdlczogcmVzLnJvd3NBZmZlY3RlZCB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUcmFuc2FjdGlvbiBzdXBwb3J0IGlzIHRyaWNreSB3aXRoIEhUVFAuIGxpYlNRTCBzdXBwb3J0cyBiYXRjaGluZyBidXQgdHJ1ZSBpbnRlcmFjdGl2ZSB0cmFuc2FjdGlvbnMgbWlnaHQgYmUgZGlmZmVyZW50LlxyXG4gICAgLy8gRm9yIG5vdywgd2Ugd2lsbCBleGVjdXRlIHRoZSBjYWxsYmFjaz8gTm8sIHZhbGlkIHRyYW5zYWN0aW9ucyBpbiBzZXJ2ZXJsZXNzIGFyZSBjb21wbGV4LlxyXG4gICAgLy8gV2Ugd2lsbCBhc3N1bWUgJ3RyYW5zYWN0aW9uJyB0YWtlcyBhIGZ1bmN0aW9uIGFuZCB3ZSBqdXN0IGV4ZWN1dGUgaXQuIFxyXG4gICAgLy8gUkVBTElUWSBDSEVDSzogVGhlIGN1cnJlbnQgY29kZWJhc2UgdXNlcyBzeW5jaHJvbm91cyB0cmFuc2FjdGlvbnM6IGRiLnRyYW5zYWN0aW9uKCgpID0+IHsgLi4uIH0pKClcclxuICAgIC8vIFdlIENBTk5PVCBlYXNpbHkgcG9seWZpbGwgdGhhdCB0byBiZSBhc3luYyB3aXRob3V0IGNoYW5naW5nIHRoZSBjYWxsaW5nIGNvZGUgc3RydWN0dXJlIHNpZ25pZmljYW50bHkuXHJcblxyXG4gICAgLy8gV2Ugd2lsbCByZWx5IG9uIHNpbXBsZSBiYXRjaGluZyBvciB3ZSBoYXZlIHRvIHJld3JpdGUgdGhlIHRyYW5zYWN0IGxvZ2ljIGluIHJvdXRlIGhhbmRsZXJzLlxyXG4gICAgdHJhbnNhY3Rpb24oZm46IChhcmdzOiBhbnkpID0+IGFueSkge1xyXG4gICAgICAgIHJldHVybiBhc3luYyAoLi4uYXJnczogYW55W10pID0+IHtcclxuICAgICAgICAgICAgLy8gVGhpcyBhY3RzIGFzIGEgcGFzcy10aHJvdWdoIHNoaW0uIFxyXG4gICAgICAgICAgICAvLyBUaGUgbG9naWMgaW5zaWRlIGZuKCkgd2lsbCBmYWlsIGJlY2F1c2UgaXQgZXhwZWN0cyBzeW5jaHJvbm91cyByZXN1bHRzIGZyb20gZGIucHJlcGFyZVxyXG4gICAgICAgICAgICAvLyBXRSBNVVNUIFJFV1JJVEUgVEhFIENBTEwgU0lURVMuXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRyYW5zYWN0aW9ucyBhcmUgbm90IGZ1bGx5IHN1cHBvcnRlZCBpbiBhc3luYyB3cmFwcGVyIHlldC5cIik7XHJcbiAgICAgICAgICAgIC8vIFdlIGNhbid0IHJlYWxseSB3cmFwIHRoaXMgZWZmaWNpZW50bHkgd2l0aG91dCBjaGFuZ2luZyB0aGUgY29uc3VtZXIgdG8gYmUgYXN5bmMgYXdhcmUuXHJcbiAgICAgICAgICAgIHJldHVybiBmbihhcmdzKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByYWdtYShzcWw6IHN0cmluZykge1xyXG4gICAgICAgIC8vIGRlZmluZWQgZm9yIGNvbXBhdGliaWxpdHkgYnV0IG1pZ2h0IG5lZWQgdG8gYmUgYXN5bmMgb3IgaWdub3JlZFxyXG4gICAgICAgIC8vIGRiQ2xpZW50LmV4ZWN1dGUoc3FsKTsgLy8gZmlyZSBhbmQgZm9yZ2V0L2F3YWl0P1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWMoc3FsOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gZGJDbGllbnQuZXhlY3V0ZU11bHRpcGxlKHNxbCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIERlZmF1bHQgZXhwb3J0IGFjdGluZyBhcyB0aGUgREIgaW5zdGFuY2VcclxuY29uc3QgZGIgPSBuZXcgREJXcmFwcGVyKCk7XHJcbmV4cG9ydCBkZWZhdWx0IGRiO1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwicmVhZEZpbGVTeW5jIiwiam9pbiIsImJjcnlwdCIsImlzUmVtb3RlIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsImluY2x1ZGVzIiwiZGJDbGllbnQiLCJ1cmwiLCJhdXRoVG9rZW4iLCJEQVRBQkFTRV9BVVRIX1RPS0VOIiwiaW5pdGlhbGl6ZURhdGFiYXNlIiwic2NoZW1hUGF0aCIsImN3ZCIsInNjaGVtYSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImV4ZWN1dGVNdWx0aXBsZSIsInJlc3VsdCIsImV4ZWN1dGUiLCJjb2xzIiwicm93cyIsImhhc093bmVyIiwic29tZSIsImMiLCJuYW1lIiwibG9nIiwiZSIsInVzZXJDb3VudFJlcyIsInVzZXJDb3VudCIsIk51bWJlciIsImNvdW50Iiwic2FsdCIsImdlblNhbHRTeW5jIiwiZGVmYXVsdFBhc3N3b3JkIiwiaGFzaFN5bmMiLCJzcWwiLCJhcmdzIiwidW5hbGxvY2F0ZWRSZXMiLCJsZW5ndGgiLCJEQldyYXBwZXIiLCJwcmVwYXJlIiwiZ2V0IiwicmVzIiwiYWxsIiwicnVuIiwibGFzdEluc2VydFJvd2lkIiwiY2hhbmdlcyIsInJvd3NBZmZlY3RlZCIsInRyYW5zYWN0aW9uIiwiZm4iLCJ3YXJuIiwicHJhZ21hIiwiZXhlYyIsImRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db_turso.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faccounts%2Froute&page=%2Fapi%2Faccounts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faccounts%2Froute.ts&appDir=C%3A%5CUsers%5CG%5CDesktop%5CSavinGCs%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CG%5CDesktop%5CSavinGCs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();