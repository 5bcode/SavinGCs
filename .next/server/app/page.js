(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},6798:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(908),r(1506),r(5866);var n=r(3191),a=r(8716),i=r(7922),s=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,908)),"C:\\Users\\G\\Desktop\\SavinGCs\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"C:\\Users\\G\\Desktop\\SavinGCs\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\G\\Desktop\\SavinGCs\\app\\page.tsx"],u="/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5482:()=>{},6131:(e,t,r)=>{Promise.resolve().then(r.bind(r,1401))},3807:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},1401:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(326),a=r(7577),i=r(7626),s=r.n(i);function o({pots:e,accounts:t,onUpdate:r}){let[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[x,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)(""),j=e.find(e=>"Unallocated"===e.name),b=l?t.filter(e=>e.pot_id===parseInt(l)&&e.current_balance>0):[],S=e.filter(e=>String(e.id)!==l),N=async e=>{e.preventDefault(),y(""),g(!0);try{let e=parseFloat(h.replace(/,/g,""));if(isNaN(e)||e<=0)throw Error("Invalid amount");let t=await fetch("/api/allocate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceAccountId:parseInt(d),targetPotId:parseInt(p),amount:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Allocation failed")}f(""),o(!1),r()}catch(e){y(e.message)}finally{g(!1)}},_=d&&t.find(e=>e.id===parseInt(d))?.current_balance||0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{style:{width:"100%"},onClick:()=>{o(!0),!l&&j&&c(String(j.id))},className:"jsx-99b2e0693884c06 btn btn-secondary",children:[(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-99b2e0693884c06",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19",className:"jsx-99b2e0693884c06"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12",className:"jsx-99b2e0693884c06"})]}),"Transfer / Allocate"]}),i&&n.jsx("div",{className:"jsx-99b2e0693884c06 modal-overlay",children:(0,n.jsxs)("div",{className:"jsx-99b2e0693884c06 modal card",children:[(0,n.jsxs)("div",{className:"jsx-99b2e0693884c06 modal-header flex justify-between items-center mb-md",children:[n.jsx("h3",{className:"jsx-99b2e0693884c06 text-xl font-bold",children:"Allocate Funds"}),n.jsx("button",{onClick:()=>o(!1),className:"jsx-99b2e0693884c06 icon-btn",children:(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-99b2e0693884c06",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18",className:"jsx-99b2e0693884c06"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18",className:"jsx-99b2e0693884c06"})]})})]}),(0,n.jsxs)("form",{onSubmit:N,className:"jsx-99b2e0693884c06 stack gap-md",children:[v&&n.jsx("div",{className:"jsx-99b2e0693884c06 p-sm bg-red-100 text-red-700 rounded text-sm",children:v}),(0,n.jsxs)("div",{className:"jsx-99b2e0693884c06 form-group",children:[n.jsx("label",{className:"jsx-99b2e0693884c06 form-label",children:"From Pot"}),(0,n.jsxs)("select",{value:l,onChange:e=>{c(e.target.value),u("")},required:!0,className:"jsx-99b2e0693884c06 form-select",children:[n.jsx("option",{value:"",className:"jsx-99b2e0693884c06",children:"Select source pot..."}),e.map(e=>n.jsx("option",{value:e.id,className:"jsx-99b2e0693884c06",children:e.name},e.id))]})]}),(0,n.jsxs)("div",{className:"jsx-99b2e0693884c06 form-group",children:[n.jsx("label",{className:"jsx-99b2e0693884c06 form-label",children:"From Account"}),(0,n.jsxs)("select",{value:d,onChange:e=>u(e.target.value),required:!0,disabled:!l,className:"jsx-99b2e0693884c06 form-select",children:[n.jsx("option",{value:"",className:"jsx-99b2e0693884c06",children:"Select source account..."}),b.map(e=>(0,n.jsxs)("option",{value:e.id,style:{color:"Gary"===e.owner?"#3b82f6":"Catherine"===e.owner?"#ec4899":"inherit",fontWeight:"bold"},className:"jsx-99b2e0693884c06",children:[e.account_name," (",e.owner,") - \xa3",e.current_balance.toLocaleString("en-GB",{minimumFractionDigits:2})]},e.id))]})]}),(0,n.jsxs)("div",{className:"jsx-99b2e0693884c06 form-group",children:[n.jsx("label",{className:"jsx-99b2e0693884c06 form-label",children:"To Pot"}),(0,n.jsxs)("select",{value:p,onChange:e=>m(e.target.value),required:!0,className:"jsx-99b2e0693884c06 form-select",children:[n.jsx("option",{value:"",className:"jsx-99b2e0693884c06",children:"Select target pot..."}),S.map(e=>n.jsx("option",{value:e.id,className:"jsx-99b2e0693884c06",children:e.name},e.id))]})]}),(0,n.jsxs)("div",{className:"jsx-99b2e0693884c06 form-group",children:[n.jsx("label",{className:"jsx-99b2e0693884c06 form-label",children:"Amount (\xa3)"}),(0,n.jsxs)("div",{className:"jsx-99b2e0693884c06 relative",children:[n.jsx("input",{type:"text",value:h,onChange:e=>f(e.target.value),onFocus:e=>{f(e.target.value.replace(/,/g,""))},onBlur:e=>{let t=e.target.value.replace(/,/g,"");if(t){let e=parseFloat(t);isNaN(e)||f(e.toLocaleString("en-GB",{minimumFractionDigits:2}))}},placeholder:"0.00",required:!0,style:{paddingRight:"60px"},className:"jsx-99b2e0693884c06 form-input"}),_>0&&n.jsx("button",{type:"button",onClick:()=>f(_.toLocaleString("en-GB",{minimumFractionDigits:2})),style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",color:"var(--teal-mid)",background:"rgba(20, 184, 166, 0.1)",border:"none",padding:"4px 8px",borderRadius:"var(--r-sm)",cursor:"pointer",fontWeight:700,fontSize:"0.75rem",zIndex:5},className:"jsx-99b2e0693884c06 absolute right-2 top-1/2 -translate-y-1/2 text-xs font-bold text-teal-500 hover:text-teal-400 px-2 py-1 rounded bg-teal-500/10 hover:bg-teal-500/20 transition-colors",children:"MAX"})]}),_>0&&(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",marginTop:"4px"},className:"jsx-99b2e0693884c06 text-xs text-gray-500 mt-1 text-right",children:["Max: \xa3",_.toLocaleString("en-GB",{minimumFractionDigits:2})]})]}),(0,n.jsxs)("div",{className:"jsx-99b2e0693884c06 flex gap-sm mt-md",children:[n.jsx("button",{type:"button",onClick:()=>o(!1),className:"jsx-99b2e0693884c06 btn btn-secondary flex-1",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:x,className:"jsx-99b2e0693884c06 btn btn-primary flex-1",children:x?"Allocating...":"Confirm Allocation"})]})]})]})}),n.jsx(s(),{id:"99b2e0693884c06",children:".modal-overlay.jsx-99b2e0693884c06{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal.jsx-99b2e0693884c06{width:100%;max-width:400px;max-height:90vh;overflow-y:auto;-webkit-box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04);-moz-box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04);box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04)}"})]})}function l({onUpdateBalance:e,onAccountClick:t}){let[r,i]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[p,m]=(0,a.useState)(!0),h=r.reduce((e,t)=>e+(t.total_balance||0),0),f=r.reduce((e,t)=>e+(t.goal_amount||0),0),x=f>0?h/f*100:0;return p?(0,n.jsxs)("div",{className:"stack",children:[n.jsx("div",{className:"skeleton",style:{height:"220px"}}),n.jsx("div",{className:"skeleton",style:{height:"100px"}}),n.jsx("div",{className:"skeleton",style:{height:"80px"}})]}):(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{textAlign:"center",padding:"var(--sp-lg) 0 var(--sp-md)"},children:[n.jsx("div",{className:"balance-label",children:"Total Net Worth"}),(0,n.jsxs)("div",{className:"balance-amount",children:["\xa3",h.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]}),f>0&&(0,n.jsxs)("div",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)",marginTop:"6px"},children:[Math.min(x,100).toFixed(1),"% of \xa3",f.toLocaleString("en-GB")," goal"]})]}),f>0&&(0,n.jsxs)("div",{className:"credit-card mb-lg",style:{position:"relative"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--sp-xl)",position:"relative",zIndex:1},children:[n.jsx(u,{percentage:Math.min(x,100),size:96,strokeWidth:7,children:(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontFamily:"var(--font-mono)",fontSize:"1rem",fontWeight:700,color:"white",lineHeight:1},children:[Math.min(x,100).toFixed(0),"%"]}),n.jsx("div",{style:{fontSize:"0.55rem",color:"rgba(255,255,255,0.6)",marginTop:"2px"},children:"saved"})]})}),(0,n.jsxs)("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,opacity:.7,letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px"},children:"Savings Progress"}),(0,n.jsxs)("div",{style:{fontFamily:"var(--font-mono)",fontSize:"1.4rem",fontWeight:700,color:"white"},children:["\xa3",h.toLocaleString("en-GB",{minimumFractionDigits:2})]}),(0,n.jsxs)("div",{style:{fontSize:"0.75rem",opacity:.6,marginTop:"4px"},children:["\xa3",(f-h>0?f-h:0).toLocaleString("en-GB")," remaining"]})]})]}),n.jsx("div",{className:"wave-decoration",children:(0,n.jsxs)("svg",{viewBox:"0 0 400 80",fill:"none",preserveAspectRatio:"none",children:[n.jsx("path",{d:"M0 40 Q50 10 100 35 T200 30 T300 40 T400 25 L400 80 L0 80Z",fill:"rgba(13,148,136,0.3)"}),n.jsx("path",{d:"M0 50 Q60 25 120 45 T240 35 T360 50 T400 40 L400 80 L0 80Z",fill:"rgba(13,148,136,0.15)"})]})})]}),(0,n.jsxs)("div",{className:"flex gap-md mb-lg",children:[(0,n.jsxs)("button",{className:"btn btn-primary flex-1",onClick:e,children:[(0,n.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 7c0-5.333-8-5.333-8 0"}),n.jsx("path",{d:"M10 7v14"}),n.jsx("path",{d:"M6 21h12"}),n.jsx("path",{d:"M6 13h10"})]}),"Update Balances"]}),n.jsx("div",{style:{flex:1},children:n.jsx(o,{pots:r,accounts:s,onUpdate:e})})]}),(0,n.jsxs)("div",{className:"section-header",children:[n.jsx("div",{className:"section-title",children:"Savings Pots"}),(0,n.jsxs)("div",{className:"section-link",children:[r.length," pot",1!==r.length?"s":""]})]}),0===r.length?(0,n.jsxs)("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-state-icon",children:"\uD83C\uDFE1"}),(0,n.jsxs)("div",{className:"empty-state-text",children:["No savings pots yet.",n.jsx("br",{}),"Go to Settings to create your first one!"]})]}):n.jsx("div",{className:"stack mb-xl",children:r.map(e=>{let r=s.filter(t=>t.pot_id===e.id);return n.jsx(c,{pot:e,accounts:r,onAccountClick:t},e.id)})}),s.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"section-header",children:[n.jsx("div",{className:"section-title",children:"All Accounts"}),(0,n.jsxs)("div",{className:"section-link",children:[s.length," account",1!==s.length?"s":""]})]}),n.jsx("div",{className:"stack",style:{gap:"var(--sp-sm)"},children:s.map(e=>n.jsx(d,{account:e,onClick:()=>t(e.id)},e.id))})]})]})}function c({pot:e,accounts:t,onAccountClick:r}){let a=Math.min(e.goal_amount?e.total_balance/e.goal_amount*100:0,100),i=e.goal_amount&&e.total_balance>=e.goal_amount;return(0,n.jsxs)("div",{className:"card",style:{padding:"var(--sp-lg)"},children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-md",children:[(0,n.jsxs)("div",{className:"flex items-center gap-md",children:[n.jsx("div",{className:"pot-icon",style:{background:`${e.color}25`},children:{"piggy-bank":"\uD83D\uDC37",house:"\uD83C\uDFE1",car:"\uD83D\uDE97",vacation:"\uD83C\uDFD6️",emergency:"\uD83D\uDEA8",wedding:"\uD83D\uDC8D",education:"\uD83C\uDF93",savings:"\uD83D\uDCB0",tent:"⛺"}[e.icon]||"\uD83D\uDCB0"}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"1rem"},children:e.name}),e.goal_amount&&(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",marginTop:"2px"},children:["Goal: \xa3",e.goal_amount.toLocaleString("en-GB")]})]})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsxs)("div",{style:{fontFamily:"var(--font-mono)",fontWeight:700,fontSize:"1.1rem",color:"var(--text-primary)"},children:["\xa3",e.total_balance.toLocaleString("en-GB",{minimumFractionDigits:2})]}),i&&n.jsx("div",{style:{fontSize:"0.7rem",color:"var(--success)",fontWeight:600,marginTop:"2px"},children:"✓ Goal reached"})]})]}),e.goal_amount&&(0,n.jsxs)("div",{children:[n.jsx("div",{className:"progress-track",style:{height:"8px",marginTop:0,marginBottom:"6px"},children:n.jsx("div",{className:`progress-fill${i?"":" purple"}`,style:{width:`${a}%`}})}),(0,n.jsxs)("div",{className:"flex justify-between",style:{fontSize:"0.7rem",color:"var(--text-tertiary)"},children:[(0,n.jsxs)("span",{children:[a.toFixed(1),"% complete"]}),(0,n.jsxs)("span",{children:["\xa3",Math.max(0,(e.goal_amount||0)-e.total_balance).toLocaleString("en-GB")," to go"]})]})]}),t.length>0&&n.jsx("div",{style:{marginTop:"var(--sp-md)",paddingTop:"var(--sp-md)",borderTop:"1px solid var(--border)"},children:t.map(t=>(0,n.jsxs)("div",{className:"flex justify-between items-center",style:{padding:"6px 0",cursor:"pointer"},onClick:()=>r(t.id),children:[(0,n.jsxs)("div",{className:"flex items-center gap-sm",children:[n.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:e.color,flexShrink:0}}),n.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:t.account_name}),(0,n.jsxs)("span",{style:{fontSize:"0.65rem",color:"var(--text-tertiary)",padding:"1px 6px",background:"var(--bg-secondary)",borderRadius:"var(--r-sm)"},children:[t.account_type.toUpperCase()," \xb7",n.jsx("span",{style:{color:"Gary"===t.owner?"#3b82f6":"Catherine"===t.owner?"#ec4899":"inherit",fontWeight:600,marginLeft:"4px"},children:t.owner||"Joint"})]})]}),(0,n.jsxs)("span",{style:{fontFamily:"var(--font-mono)",fontSize:"0.85rem",fontWeight:600,color:"var(--text-primary)"},children:["\xa3",t.current_balance.toLocaleString("en-GB",{minimumFractionDigits:2})]})]},t.id))})]})}function d({account:e,onClick:t}){return(0,n.jsxs)("div",{className:"pot-item",onClick:t,children:[n.jsx("div",{className:"pot-icon",style:{background:`linear-gradient(135deg, ${e.pot_color||"var(--purple-start)"}30, ${e.pot_color||"var(--purple-start)"}10)`,fontSize:"1rem"},children:(0,n.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:e.pot_color||"var(--purple-mid)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),n.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]})}),(0,n.jsxs)("div",{className:"pot-info",children:[n.jsx("div",{className:"pot-name",children:e.account_name}),(0,n.jsxs)("div",{className:"pot-meta",children:[e.pot_name," \xb7 ",e.account_type," \xb7",n.jsx("span",{style:{color:"Gary"===e.owner?"#3b82f6":"Catherine"===e.owner?"#ec4899":"inherit",fontWeight:600,marginLeft:"4px"},children:e.owner||"Joint"})]})]}),(0,n.jsxs)("div",{className:"pot-amount",children:["\xa3",e.current_balance.toLocaleString("en-GB",{minimumFractionDigits:2})]})]})}function u({percentage:e,size:t=96,strokeWidth:r=7,children:a}){let i=(t-r)/2,s=2*i*Math.PI;return(0,n.jsxs)("div",{className:"ring-container",style:{width:t,height:t},children:[(0,n.jsxs)("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,children:[n.jsx("circle",{className:"ring-bg",cx:t/2,cy:t/2,r:i}),n.jsx("circle",{className:"ring-fill",cx:t/2,cy:t/2,r:i,stroke:"url(#ringGrad)",strokeDasharray:s,strokeDashoffset:s-e/100*s}),n.jsx("defs",{children:(0,n.jsxs)("linearGradient",{id:"ringGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"var(--purple-start)"}),n.jsx("stop",{offset:"100%",stopColor:"var(--teal-end)"})]})})]}),n.jsx("div",{className:"ring-text",children:a})]})}function p({onLogin:e}){let[t,r]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(!1),h=async r=>{r.preventDefault(),u(""),m(!0);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:i,rememberMe:l})}),n=await r.json();if(!r.ok){u(n.error||"Login failed");return}e(n.user)}catch(e){u("An error occurred. Please try again.")}finally{m(!1)}};return(0,n.jsxs)("div",{className:"jsx-37a81b79a982207d login-page",children:[(0,n.jsxs)("div",{className:"jsx-37a81b79a982207d login-card",children:[(0,n.jsxs)("div",{className:"jsx-37a81b79a982207d login-brand",children:[n.jsx("div",{className:"jsx-37a81b79a982207d login-logo",children:"\uD83C\uDFE1"}),n.jsx("h1",{className:"jsx-37a81b79a982207d login-title",children:"SavinGCs"}),n.jsx("p",{className:"jsx-37a81b79a982207d login-subtitle",children:"Track your savings together"})]}),(0,n.jsxs)("form",{onSubmit:h,className:"jsx-37a81b79a982207d card-glass",children:[(0,n.jsxs)("div",{className:"jsx-37a81b79a982207d form-group",children:[n.jsx("label",{htmlFor:"username",className:"jsx-37a81b79a982207d form-label",children:"Username"}),n.jsx("input",{id:"username",type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Enter username",required:!0,autoComplete:"username",className:"jsx-37a81b79a982207d form-input"})]}),(0,n.jsxs)("div",{className:"jsx-37a81b79a982207d form-group",children:[n.jsx("label",{htmlFor:"password",className:"jsx-37a81b79a982207d form-label",children:"Password"}),n.jsx("input",{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),placeholder:"Enter password",required:!0,autoComplete:"current-password",className:"jsx-37a81b79a982207d form-input"})]}),(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"var(--sp-sm)",cursor:"pointer",marginBottom:"var(--sp-lg)",WebkitTapHighlightColor:"transparent"},className:"jsx-37a81b79a982207d",children:[n.jsx("input",{type:"checkbox",checked:l,onChange:e=>c(e.target.checked),style:{width:"18px",height:"18px",accentColor:"var(--purple-start)",cursor:"pointer"},className:"jsx-37a81b79a982207d"}),n.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},className:"jsx-37a81b79a982207d",children:"Remember me"})]}),d&&n.jsx("div",{className:"jsx-37a81b79a982207d error-badge",children:d}),n.jsx("button",{type:"submit",style:{width:"100%"},disabled:p,className:"jsx-37a81b79a982207d btn btn-primary",children:p?(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"8px"},className:"jsx-37a81b79a982207d",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",style:{animation:"spin 1s linear infinite"},className:"jsx-37a81b79a982207d",children:n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",fill:"none",strokeDasharray:"60 30",className:"jsx-37a81b79a982207d"})}),"Signing in..."]}):"Sign In"})]})]}),n.jsx(s(),{id:"37a81b79a982207d",children:"@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}function m({transactions:e}){let[t,r]=(0,a.useState)(null),i=(0,a.useMemo)(()=>{if(!e.length)return[];let t=[...e].sort((e,t)=>new Date(e.transaction_date).getTime()-new Date(t.transaction_date).getTime()),r=new Map,n=0;return t.forEach(e=>{n+=e.amount,r.set(e.transaction_date,n)}),Array.from(r.entries()).map(([e,t])=>({date:e,value:t,timestamp:new Date(e).getTime()}))},[e]);if(i.length<2)return null;let s=Math.min(...i.map(e=>e.timestamp)),o=Math.max(...i.map(e=>e.timestamp))-s||1,l=Math.min(0,...i.map(e=>e.value)),c=1.05*Math.max(...i.map(e=>e.value))-l||1,d=e=>40+(e-s)/o*720,u=e=>260-(e-l)/c*220,p=i.map((e,t)=>`${0===t?"M":"L"} ${d(e.timestamp)} ${u(e.value)}`).join(" "),m=`${p} L ${d(i[i.length-1].timestamp)} 260 L ${d(i[0].timestamp)} 260 Z`;return(0,n.jsxs)("div",{className:"card mb-xl overflow-hidden",style:{padding:"0"},children:[n.jsx("div",{style:{padding:"var(--sp-md) var(--sp-lg)",borderBottom:"1px solid var(--border)"},children:n.jsx("div",{style:{fontWeight:700,fontSize:"0.9rem"},children:"Net Worth Over Time"})}),(0,n.jsxs)("div",{style:{position:"relative",height:"300px",width:"100%"},children:[(0,n.jsxs)("svg",{viewBox:"0 0 800 300",style:{width:"100%",height:"100%",display:"block"},children:[n.jsx("defs",{children:(0,n.jsxs)("linearGradient",{id:"chartFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"var(--purple-mid)",stopOpacity:"0.2"}),n.jsx("stop",{offset:"100%",stopColor:"var(--purple-mid)",stopOpacity:"0"})]})}),[0,.25,.5,.75,1].map(e=>{let t=260-220*e;return n.jsx("line",{x1:40,y1:t,x2:760,y2:t,stroke:"var(--border)",strokeDasharray:"4 4"},e)}),n.jsx("path",{d:m,fill:"url(#chartFill)"}),n.jsx("path",{d:p,fill:"none",stroke:"var(--purple-mid)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),i.map((e,t)=>n.jsx("circle",{cx:d(e.timestamp),cy:u(e.value),r:"6",fill:"transparent",onMouseEnter:()=>r({x:d(e.timestamp),y:u(e.value),date:e.date,value:e.value}),onMouseLeave:()=>r(null),style:{cursor:"pointer"}},t)),t&&(0,n.jsxs)(n.Fragment,{children:[n.jsx("circle",{cx:t.x,cy:t.y,r:"5",fill:"var(--bg-card)",stroke:"var(--purple-mid)",strokeWidth:"2"}),n.jsx("line",{x1:t.x,y1:t.y,x2:t.x,y2:260,stroke:"var(--text-tertiary)",strokeDasharray:"2 2"})]})]}),t&&(0,n.jsxs)("div",{style:{position:"absolute",left:t.x,top:t.y-10,transform:"translate(-50%, -100%)",background:"var(--bg-card)",border:"1px solid var(--border)",padding:"8px 12px",borderRadius:"var(--r-md)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",pointerEvents:"none",textAlign:"center",zIndex:10},children:[n.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:new Date(t.date).toLocaleDateString("en-GB",{month:"short",day:"numeric"})}),(0,n.jsxs)("div",{style:{fontWeight:700,color:"var(--text-primary)"},children:["\xa3",t.value.toLocaleString("en-GB",{minimumFractionDigits:2})]})]})]})]})}function h(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),s=async()=>{try{let e=await fetch("/api/export/csv"),t=await e.blob(),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`savings-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)}catch(e){console.error("Export error:",e)}};if(r)return n.jsx("div",{className:"skeleton",style:{height:"300px"}});let o={};return e.forEach(e=>{let t=new Date(e.transaction_date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});o[t]||(o[t]=[]),o[t].push(e)}),(0,n.jsxs)("div",{children:[e.length>0&&n.jsx(m,{transactions:e}),(0,n.jsxs)("div",{className:"section-header",children:[n.jsx("div",{className:"section-title",children:"Balance History"}),(0,n.jsxs)("button",{className:"btn btn-secondary",style:{padding:"8px 14px",minHeight:"auto",fontSize:"0.75rem"},onClick:s,children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7 10 12 15 17 10"}),n.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]})]}),n.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)",marginBottom:"var(--sp-lg)"},children:"A log of all balance changes across your accounts."}),0===e.length?(0,n.jsxs)("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-state-icon",children:"\uD83D\uDCCB"}),(0,n.jsxs)("div",{className:"empty-state-text",children:["No history yet.",n.jsx("br",{}),"Balance changes will appear here."]})]}):Object.entries(o).map(([e,t])=>(0,n.jsxs)("div",{style:{marginBottom:"var(--sp-xl)"},children:[n.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"var(--sp-sm)",padding:"0 2px"},children:e}),n.jsx("div",{className:"stack",style:{gap:"var(--sp-xs)"},children:t.map(e=>(0,n.jsxs)("div",{className:"pot-item",style:{cursor:"default",padding:"var(--sp-sm) var(--sp-md)"},children:[n.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"var(--r-md)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:"1rem",background:e.amount>=0?"linear-gradient(135deg, rgba(52, 211, 153, 0.15), rgba(52, 211, 153, 0.05))":"linear-gradient(135deg, rgba(248, 113, 113, 0.15), rgba(248, 113, 113, 0.05))"},children:e.amount>=0?"↗":"↙"}),(0,n.jsxs)("div",{className:"pot-info",children:[n.jsx("div",{style:{fontWeight:600,fontSize:"0.85rem"},children:e.account_name}),(0,n.jsxs)("div",{style:{fontSize:"0.7rem",color:"var(--text-tertiary)"},children:[e.description||e.pot_name," • ",e.user_name]})]}),(0,n.jsxs)("span",{style:{fontFamily:"var(--font-mono)",fontWeight:700,fontSize:"0.9rem",color:e.amount>=0?"var(--success)":"var(--error)"},children:[e.amount>=0?"+":"","\xa3",Math.abs(e.amount).toLocaleString("en-GB",{minimumFractionDigits:2})]})]},e.id))})]},e))]})}function f({onUpdate:e}){let[t,r]=(0,a.useState)([]),[i,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)({name:"",goalAmount:"",color:"#7B2FE0",icon:"piggy-bank"}),c=async()=>{try{let e=await fetch("/api/pots"),t=await e.json();r(t.pots||[])}catch(e){console.error("Error fetching pots:",e)}},d=async t=>{t.preventDefault();try{if(!(await fetch("/api/pots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name,goalAmount:o.goalAmount?parseFloat(o.goalAmount.replace(/,/g,"")):null,color:o.color,icon:o.icon,priority:0})})).ok)throw Error("Failed to create pot");l({name:"",goalAmount:"",color:"#7B2FE0",icon:"piggy-bank"}),s(!1),c(),e()}catch(e){console.error("Error creating pot:",e),alert("Failed to create savings pot")}},u=async t=>{if(confirm("Delete this pot and all its accounts/transactions?"))try{if(!(await fetch(`/api/pots/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete pot");c(),e()}catch(e){console.error("Error deleting pot:",e),alert("Failed to delete pot")}},p=[["house","\uD83C\uDFE1"],["piggy-bank","\uD83D\uDC37"],["car","\uD83D\uDE97"],["vacation","\uD83C\uDFD6️"],["emergency","\uD83D\uDEA8"],["wedding","\uD83D\uDC8D"],["education","\uD83C\uDF93"],["savings","\uD83D\uDCB0"],["tent","⛺"]];return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"section-header",children:[n.jsx("div",{className:"section-title",children:"Savings Pots"}),n.jsx("button",{className:"btn btn-primary",style:{padding:"8px 16px",minHeight:"auto",fontSize:"0.8rem"},onClick:()=>s(!i),children:i?"Cancel":"+ New Pot"})]}),i&&(0,n.jsxs)("form",{onSubmit:d,className:"card mb-lg",children:[(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Pot Name"}),n.jsx("input",{type:"text",className:"form-input",value:o.name,onChange:e=>l({...o,name:e.target.value}),placeholder:"e.g., House Deposit",required:!0})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Goal Amount (\xa3)"}),n.jsx("input",{type:"text",className:"form-input",value:o.goalAmount,onChange:e=>l({...o,goalAmount:e.target.value}),onFocus:e=>{let t=e.target.value.replace(/,/g,"");l({...o,goalAmount:t})},onBlur:e=>{let t=e.target.value.replace(/,/g,"");if(t){let e=parseFloat(t);isNaN(e)||l({...o,goalAmount:e.toLocaleString("en-GB",{maximumFractionDigits:2})})}},placeholder:"Optional - e.g., 50,000"})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Icon"}),n.jsx("div",{className:"flex gap-sm",style:{flexWrap:"wrap"},children:p.map(([e,t])=>n.jsx("button",{type:"button",onClick:()=>l({...o,icon:e}),style:{width:"44px",height:"44px",borderRadius:"var(--r-md)",background:o.icon===e?"var(--purple-start)":"var(--bg-secondary)",border:o.icon===e?"2px solid var(--purple-mid)":"1px solid var(--border)",fontSize:"1.2rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all var(--t-fast)"},children:t},e))})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Color"}),n.jsx("div",{className:"flex gap-sm",children:["#7B2FE0","#059669","#f59e0b","#ef4444","#3b82f6","#ec4899","#8b5cf6"].map(e=>n.jsx("button",{type:"button",onClick:()=>l({...o,color:e}),style:{width:"36px",height:"36px",borderRadius:"var(--r-full)",background:e,border:o.color===e?"3px solid white":"2px solid transparent",cursor:"pointer",transition:"all var(--t-fast)"}},e))})]}),n.jsx("button",{type:"submit",className:"btn btn-teal",style:{width:"100%"},children:"Create Pot"})]}),n.jsx("div",{className:"stack",style:{gap:"var(--sp-sm)"},children:t.map(e=>{let t="Unallocated"===e.name;return(0,n.jsxs)("div",{className:"pot-item",children:[n.jsx("div",{className:"pot-icon",style:{background:`${e.color}30`,fontSize:"1.3rem"},children:p.find(([t])=>t===e.icon)?.[1]||"\uD83D\uDCB0"}),(0,n.jsxs)("div",{className:"pot-info",children:[n.jsx("div",{className:"pot-name",children:e.name}),t?n.jsx("div",{className:"pot-meta",children:"Default \xb7 Cannot be deleted"}):e.goal_amount?(0,n.jsxs)("div",{className:"pot-meta",children:["Goal: \xa3",e.goal_amount.toLocaleString("en-GB")]}):null]}),!t&&n.jsx("button",{onClick:()=>u(e.id),className:"icon-btn",style:{color:"var(--error)"},children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("polyline",{points:"3 6 5 6 21 6"}),n.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]},e.id)})})]})}function x({onUpdate:e,onAccountClick:t,currentUser:r}){let[i,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)({potId:"",accountName:"",accountType:"savings",owner:r?.displayName||"Joint",currentBalance:"",startingBalanceDate:new Date().toISOString().split("T")[0]}),m=async()=>{try{let[e,t]=await Promise.all([fetch("/api/accounts"),fetch("/api/pots")]),r=await e.json(),n=(await t.json()).pots||[];if(s(r.accounts||[]),l(n),!u.potId){let e=n.find(e=>"Unallocated"===e.name);e&&p(t=>({...t,potId:String(e.id)}))}}catch(e){console.error("Error fetching data:",e)}},h=async t=>{t.preventDefault();try{if(!(await fetch("/api/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({potId:parseInt(u.potId),accountName:u.accountName,accountType:u.accountType,owner:u.owner,currentBalance:parseFloat(u.currentBalance.replace(/,/g,""))||0,startingBalanceDate:u.startingBalanceDate})})).ok)throw Error("Failed to create account");p({potId:"",accountName:"",accountType:"savings",owner:r?.displayName||"Joint",currentBalance:"",startingBalanceDate:new Date().toISOString().split("T")[0]}),d(!1),m(),e()}catch(e){console.error("Error creating account:",e),alert("Failed to create account")}},f=async t=>{if(confirm("Delete this account and all its transactions?"))try{if(!(await fetch(`/api/accounts/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete account");m(),e()}catch(e){console.error("Error deleting account:",e),alert("Failed to delete account")}},x={savings:"Savings",isa:"ISA",current:"Current",investment:"Investment",other:"Other"},g={};return i.forEach(e=>{g[e.pot_name]||(g[e.pot_name]={color:e.pot_color,accounts:[]}),g[e.pot_name].accounts.push(e)}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"section-header",children:[n.jsx("div",{className:"section-title",children:"Your Accounts"}),n.jsx("button",{className:"btn btn-primary",style:{padding:"8px 16px",minHeight:"auto",fontSize:"0.8rem"},onClick:()=>d(!c),children:c?"Cancel":"+ Add Account"})]}),n.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)",marginBottom:"var(--sp-lg)"},children:"All your savings accounts, grouped by pot."}),c&&(0,n.jsxs)("form",{onSubmit:h,className:"card mb-lg",children:[(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Savings Pot"}),n.jsx("select",{className:"form-select",value:u.potId,onChange:e=>p({...u,potId:e.target.value}),required:!0,children:o.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Account Name"}),n.jsx("input",{type:"text",className:"form-input",value:u.accountName,onChange:e=>p({...u,accountName:e.target.value}),placeholder:"e.g., HSBC Lifetime ISA",required:!0})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Account Type"}),(0,n.jsxs)("select",{className:"form-select",value:u.accountType,onChange:e=>p({...u,accountType:e.target.value}),children:[n.jsx("option",{value:"savings",children:"Savings Account"}),n.jsx("option",{value:"isa",children:"ISA"}),n.jsx("option",{value:"current",children:"Current Account"}),n.jsx("option",{value:"investment",children:"Investment Account"}),n.jsx("option",{value:"other",children:"Other"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Owner"}),(0,n.jsxs)("select",{className:"form-select",value:u.owner,onChange:e=>p({...u,owner:e.target.value}),children:[n.jsx("option",{value:"Gary",children:"Gary"}),n.jsx("option",{value:"Catherine",children:"Catherine"}),n.jsx("option",{value:"Joint",children:"Joint"}),r?.displayName&&!["Gary","Catherine","Joint"].includes(r.displayName)&&n.jsx("option",{value:r.displayName,children:r.displayName})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Starting Balance (\xa3)"}),n.jsx("input",{type:"text",className:"form-input",value:u.currentBalance,onChange:e=>p({...u,currentBalance:e.target.value}),onFocus:e=>{let t=e.target.value.replace(/,/g,"");p({...u,currentBalance:t})},onBlur:e=>{let t=e.target.value.replace(/,/g,"");if(t){let e=parseFloat(t);isNaN(e)||p({...u,currentBalance:e.toLocaleString("en-GB",{minimumFractionDigits:2})})}},placeholder:"0.00",style:{fontFamily:"var(--font-mono)"}})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Starting Balance Date"}),n.jsx("input",{type:"date",className:"form-input",value:u.startingBalanceDate,onChange:e=>p({...u,startingBalanceDate:e.target.value}),required:!0})]}),n.jsx("button",{type:"submit",className:"btn btn-teal",style:{width:"100%"},children:"Add Account"})]}),0===Object.keys(g).length&&!c&&(0,n.jsxs)("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-state-icon",children:"\uD83C\uDFE6"}),(0,n.jsxs)("div",{className:"empty-state-text",children:["No accounts yet.",n.jsx("br",{}),"Add your first bank account above!"]})]}),Object.entries(g).map(([e,r])=>{let a=r.accounts.reduce((e,t)=>e+t.current_balance,0);return(0,n.jsxs)("div",{style:{marginBottom:"var(--sp-xl)"},children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",style:{marginBottom:"var(--sp-sm)",padding:"0 2px"},children:[(0,n.jsxs)("div",{className:"flex items-center gap-sm",children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:r.color}}),n.jsx("span",{style:{fontSize:"0.75rem",fontWeight:700,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.08em"},children:e})]}),(0,n.jsxs)("span",{style:{fontSize:"0.8rem",fontFamily:"var(--font-mono)",fontWeight:600,color:"var(--text-secondary)"},children:["\xa3",a.toLocaleString("en-GB",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"stack",style:{gap:"var(--sp-xs)"},children:r.accounts.map(e=>(0,n.jsxs)("div",{className:"pot-item",onClick:()=>t(e.id),children:[n.jsx("div",{className:"pot-icon",style:{background:`linear-gradient(135deg, ${e.pot_color}30, ${e.pot_color}10)`,fontSize:"1rem"},children:(0,n.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:e.pot_color||"var(--purple-mid)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),n.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]})}),(0,n.jsxs)("div",{className:"pot-info",children:[n.jsx("div",{className:"pot-name",children:e.account_name}),(0,n.jsxs)("div",{className:"pot-meta",children:[x[e.account_type]||e.account_type," \xb7",n.jsx("span",{style:{color:"Gary"===e.owner?"#3b82f6":"Catherine"===e.owner?"#ec4899":"inherit",fontWeight:600,marginLeft:"4px"},children:e.owner||"Joint"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-sm",children:[(0,n.jsxs)("div",{className:"pot-amount",children:["\xa3",e.current_balance.toLocaleString("en-GB",{minimumFractionDigits:2})]}),n.jsx("button",{onClick:t=>{t.stopPropagation(),f(e.id)},className:"icon-btn",style:{color:"var(--error)",width:"32px",height:"32px"},children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]},e.id))})]},e)})]})}function g({onSuccess:e,currentUser:t}){let[r,i]=(0,a.useState)([]),[s,o]=(0,a.useState)({}),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(new Set),h=async e=>{let r=parseFloat((s[e.id]||"0").replace(/,/g,""));if(!isNaN(r)){u(!0);try{if(!(await fetch(`/api/accounts/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountName:e.account_name,accountType:e.account_type,currentBalance:r})})).ok)throw Error("Failed to update");let n=r-e.current_balance;0!==n&&await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:e.id,userId:t.id,amount:n,description:`Balance update: \xa3${e.current_balance.toFixed(2)} → \xa3${r.toFixed(2)}`,transactionDate:new Date().toISOString().split("T")[0]})}),m(t=>new Set(t).add(e.id)),setTimeout(()=>m(t=>{let r=new Set(t);return r.delete(e.id),r}),2e3)}catch(e){console.error("Error updating balance:",e),alert("Failed to update balance")}finally{u(!1)}}},f=async()=>{for(let e of(u(!0),r)){let t=parseFloat((s[e.id]||"0").replace(/,/g,""));isNaN(t)||t===e.current_balance||await h(e)}u(!1),e()};if(l)return n.jsx("div",{className:"skeleton",style:{height:"200px"}});let x={};return r.forEach(e=>{x[e.pot_name]||(x[e.pot_name]=[]),x[e.pot_name].push(e)}),(0,n.jsxs)("div",{children:[n.jsx("h2",{style:{marginBottom:"var(--sp-xs)"},children:"Update Balances"}),n.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)",marginBottom:"var(--sp-lg)"},children:"Enter the current balance for each account. Changes are logged automatically."}),0===r.length?(0,n.jsxs)("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-state-icon",children:"\uD83C\uDFE6"}),n.jsx("div",{className:"empty-state-text",children:"No accounts yet. Add some in Settings first!"})]}):(0,n.jsxs)(n.Fragment,{children:[Object.entries(x).map(([e,t])=>(0,n.jsxs)("div",{style:{marginBottom:"var(--sp-lg)"},children:[n.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"var(--sp-sm)",padding:"0 2px"},children:e}),n.jsx("div",{className:"stack",style:{gap:"var(--sp-sm)"},children:t.map(e=>(0,n.jsxs)("div",{className:"card",style:{padding:"var(--sp-md)"},children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-sm",children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:e.account_name}),(0,n.jsxs)("div",{style:{fontSize:"0.7rem",color:"var(--text-tertiary)"},children:["Current: \xa3",e.current_balance.toLocaleString("en-GB",{minimumFractionDigits:2})," \xb7 ",e.account_type," \xb7",n.jsx("span",{style:{color:"Gary"===e.owner?"#3b82f6":"Catherine"===e.owner?"#ec4899":"inherit",fontWeight:600,marginLeft:"4px"},children:e.owner||"Joint"})]})]}),p.has(e.id)&&(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--success)",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polyline",{points:"20 6 9 17 4 12"})}),"Saved"]})]}),(0,n.jsxs)("div",{className:"flex gap-sm items-center",children:[(0,n.jsxs)("div",{style:{position:"relative",flex:1},children:[n.jsx("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)",fontWeight:600,fontSize:"1rem"},children:"\xa3"}),n.jsx("input",{type:"text",className:"form-input",value:s[e.id]||"",onChange:t=>o({...s,[e.id]:t.target.value}),onFocus:t=>{let r=t.target.value.replace(/,/g,"");o({...s,[e.id]:r})},onBlur:t=>{let r=parseFloat(t.target.value.replace(/,/g,""));isNaN(r)||o({...s,[e.id]:r.toLocaleString("en-GB",{minimumFractionDigits:2})})},style:{paddingLeft:"28px",fontFamily:"var(--font-mono)",fontWeight:700,fontSize:"1.05rem"}})]}),n.jsx("button",{type:"button",className:"btn btn-teal",style:{padding:"12px 16px",minHeight:"auto",fontSize:"0.8rem"},onClick:()=>h(e),disabled:d||parseFloat((s[e.id]||"0").replace(/,/g,""))===e.current_balance,children:"Save"})]}),(()=>{let t=parseFloat((s[e.id]||"0").replace(/,/g,""));return t!==e.current_balance&&(0,n.jsxs)("div",{style:{fontSize:"0.75rem",marginTop:"6px",fontWeight:600,fontFamily:"var(--font-mono)",color:t>e.current_balance?"var(--success)":"var(--error)"},children:[t>e.current_balance?"+":"","\xa3",(t-e.current_balance).toLocaleString("en-GB",{minimumFractionDigits:2})," change"]})})()]},e.id))})]},e)),n.jsx("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"var(--sp-md)"},onClick:f,disabled:d,children:d?"Saving...":"Save All Changes"})]})]})}function v({accountId:e,currentUser:t,onClose:r,onUpdate:i}){let[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(0),[p,m]=(0,a.useState)(!0),[h,f]=(0,a.useState)(!1),[x,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)(null),[S,N]=(0,a.useState)(""),[_,w]=(0,a.useState)(""),[k,E]=(0,a.useState)(""),C=()=>!!s&&(_!==s.account_type||k!==(s.owner||"Joint")),R=async()=>{if(s){if(C()&&d>0&&!v){b({accountName:s.account_name,accountType:_,owner:k,currentBalance:parseFloat(S.replace(/,/g,""))}),y(!0);return}await P()}},P=async()=>{f(!0),y(!1);try{let n=parseFloat(S.replace(/,/g,""));if(!(await fetch(`/api/accounts/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountName:s.account_name,accountType:_,owner:k,currentBalance:n})})).ok)throw Error("Failed to update");let a=n-s.current_balance;0!==a&&await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:s.id,userId:t.id,amount:a,description:`Balance update: \xa3${s.current_balance.toFixed(2)} → \xa3${n.toFixed(2)}`,transactionDate:new Date().toISOString().split("T")[0]})}),g(!0),setTimeout(()=>{g(!1),i(),r()},1200)}catch(e){console.error("Error saving:",e),alert("Failed to save changes")}finally{f(!1)}},A=s?parseFloat(S.replace(/,/g,""))-s.current_balance:0,T=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});return p?(0,n.jsxs)("div",{children:[n.jsx("div",{className:"skeleton",style:{height:"40px",marginBottom:"16px"}}),n.jsx("div",{className:"skeleton",style:{height:"200px"}})]}):s?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{marginBottom:"var(--sp-lg)"},children:[n.jsx("h2",{style:{marginBottom:"4px"},children:s.account_name}),(0,n.jsxs)("div",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)"},children:[s.pot_name," \xb7 ",{savings:"Savings",isa:"ISA",current:"Current",investment:"Investment",other:"Other"}[s.account_type]||s.account_type," \xb7 ",s.owner||"Joint"]}),(0,n.jsxs)("div",{style:{fontSize:"0.7rem",color:"var(--text-tertiary)",marginTop:"4px"},children:["Recording as at ",T]})]}),(0,n.jsxs)("div",{className:"card",style:{padding:"var(--sp-lg)",marginBottom:"var(--sp-lg)",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"6px"},children:"Current Balance"}),(0,n.jsxs)("div",{style:{fontFamily:"var(--font-mono)",fontSize:"2rem",fontWeight:700,color:"var(--text-primary)"},children:["\xa3",s.current_balance.toLocaleString("en-GB",{minimumFractionDigits:2})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"New Balance (\xa3)"}),(0,n.jsxs)("div",{style:{position:"relative"},children:[n.jsx("span",{style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)",fontWeight:700,fontSize:"1.1rem"},children:"\xa3"}),n.jsx("input",{type:"text",className:"form-input",value:S,onChange:e=>N(e.target.value),onFocus:e=>{N(e.target.value.replace(/,/g,""))},onBlur:e=>{let t=e.target.value.replace(/,/g,"");if(t){let e=parseFloat(t);isNaN(e)||N(e.toLocaleString("en-GB",{minimumFractionDigits:2}))}},style:{paddingLeft:"30px",fontFamily:"var(--font-mono)",fontWeight:700,fontSize:"1.2rem"}})]}),0!==A&&!isNaN(A)&&(0,n.jsxs)("div",{style:{fontSize:"0.8rem",marginTop:"6px",fontWeight:700,fontFamily:"var(--font-mono)",color:A>0?"var(--success)":"var(--error)",display:"flex",alignItems:"center",gap:"4px"},children:[A>0?"↑":"↓"," ",A>0?"+":"","\xa3",A.toLocaleString("en-GB",{minimumFractionDigits:2})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Account Type"}),(0,n.jsxs)("select",{className:"form-select",value:_,onChange:e=>w(e.target.value),children:[n.jsx("option",{value:"savings",children:"Savings Account"}),n.jsx("option",{value:"isa",children:"ISA"}),n.jsx("option",{value:"current",children:"Current Account"}),n.jsx("option",{value:"investment",children:"Investment Account"}),n.jsx("option",{value:"other",children:"Other"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Owner"}),(0,n.jsxs)("select",{className:"form-select",value:k,onChange:e=>E(e.target.value),children:[n.jsx("option",{value:"Gary",children:"Gary"}),n.jsx("option",{value:"Catherine",children:"Catherine"}),n.jsx("option",{value:"Joint",children:"Joint"})]})]}),v&&n.jsx("div",{style:{background:"rgba(251, 191, 36, 0.1)",border:"1px solid rgba(251, 191, 36, 0.3)",borderRadius:"var(--r-lg)",padding:"var(--sp-md)",marginBottom:"var(--sp-md)"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--sp-sm)"},children:[n.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"⚠️"}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:700,fontSize:"0.85rem",color:"var(--warning)",marginBottom:"4px"},children:"Changing account details"}),(0,n.jsxs)("div",{style:{fontSize:"0.78rem",color:"var(--text-secondary)",lineHeight:1.5},children:["This account has ",(0,n.jsxs)("strong",{children:[d," balance change",1!==d?"s":""]})," in its history. Changing the type or owner won't affect historical records, but could make past entries misleading."]}),(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",marginTop:"6px",lineHeight:1.5},children:["\uD83D\uDCA1 ",n.jsx("strong",{children:"Recommendation:"})," If this is a fundamentally different account, consider deleting this one and creating a new account instead to keep your history clean."]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"var(--sp-sm)",marginTop:"var(--sp-md)"},children:[n.jsx("button",{className:"btn btn-secondary",style:{flex:1,padding:"10px",minHeight:"auto",fontSize:"0.8rem"},onClick:()=>y(!1),children:"Cancel"}),n.jsx("button",{className:"btn",style:{flex:1,padding:"10px",minHeight:"auto",fontSize:"0.8rem",background:"var(--warning)",color:"#000",fontWeight:700},onClick:P,children:"Save Anyway"})]})]})]})}),!v&&n.jsx("button",{className:"btn btn-primary",style:{width:"100%",marginBottom:"var(--sp-lg)"},onClick:R,disabled:h||x||!(s&&parseFloat(S.replace(/,/g,""))!==s.current_balance)&&!C(),children:x?(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polyline",{points:"20 6 9 17 4 12"})}),"Saved"]}):h?"Saving...":"Save Changes"}),l.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"section-header",style:{marginTop:"var(--sp-md)"},children:[n.jsx("div",{className:"section-title",style:{fontSize:"0.95rem"},children:"Balance History"}),(0,n.jsxs)("div",{className:"section-link",children:[l.length," record",1!==l.length?"s":""]})]}),n.jsx("div",{className:"stack",style:{gap:"var(--sp-xs)"},children:l.map((e,t)=>{let r=t<l.length-1?l[t+1].balance:null,a=null!==r?e.balance-r:null;return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--sp-sm) var(--sp-md)",background:"var(--bg-card)",borderRadius:"var(--r-md)",border:"1px solid var(--border)"},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",fontWeight:600},children:new Date(e.recorded_date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}),null!==a&&(0,n.jsxs)("div",{style:{fontSize:"0.7rem",fontFamily:"var(--font-mono)",fontWeight:600,marginTop:"2px",color:a>=0?"var(--success)":"var(--error)"},children:[a>=0?"+":"","\xa3",a.toLocaleString("en-GB",{minimumFractionDigits:2})]})]}),(0,n.jsxs)("div",{style:{fontFamily:"var(--font-mono)",fontWeight:700,fontSize:"0.9rem",color:"var(--text-primary)"},children:["\xa3",e.balance.toLocaleString("en-GB",{minimumFractionDigits:2})]})]},t)})})]})]}):n.jsx("div",{className:"empty-state",children:n.jsx("div",{className:"empty-state-text",children:"Account not found"})})}function y(){let[e,t]=(0,a.useState)(null),[r,i]=(0,a.useState)("home"),[s,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[y,j]=(0,a.useState)(0),b=async()=>{await fetch("/api/auth/session",{method:"POST"}),t(null)},S=e=>{m(e)},N=()=>{m(null)};return s?n.jsx("div",{className:"app-shell",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100dvh"},children:n.jsx("div",{className:"skeleton",style:{width:"280px",height:"380px"}})}):e?(0,n.jsxs)("div",{className:"app-shell",children:[(0,n.jsxs)("div",{className:"app-header",children:[(0,n.jsxs)("div",{className:"header-user",children:[n.jsx("div",{className:"avatar",children:e.displayName?.charAt(0)||"U"}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"header-greeting",children:"Welcome back"}),n.jsx("div",{className:"header-name",children:e.displayName})]})]}),n.jsx("div",{className:"header-actions",children:n.jsx("button",{className:"icon-btn",onClick:b,title:"Logout",children:(0,n.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})})]}),(0,n.jsxs)("div",{className:"app-content",children:["home"===r&&n.jsx(l,{onUpdateBalance:()=>d(!0),onAccountClick:S},y),"accounts"===r&&n.jsx(x,{onUpdate:()=>j(e=>e+1),onAccountClick:S,currentUser:e},y),"history"===r&&n.jsx(h,{},y),"manage"===r&&n.jsx(f,{onUpdate:()=>j(e=>e+1)},y)]}),(0,n.jsxs)("nav",{className:"tab-bar",children:[(0,n.jsxs)("button",{className:`tab-item${"home"===r?" active":""}`,onClick:()=>i("home"),children:[n.jsx("span",{className:"tab-icon",children:(0,n.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),"Home"]}),(0,n.jsxs)("button",{className:`tab-item${"accounts"===r?" active":""}`,onClick:()=>i("accounts"),children:[n.jsx("span",{className:"tab-icon",children:(0,n.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),n.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]})}),"Accounts"]}),n.jsx("button",{className:"tab-fab",onClick:()=>d(!0),title:"Update Balance",children:(0,n.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),n.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),(0,n.jsxs)("button",{className:`tab-item${"history"===r?" active":""}`,onClick:()=>i("history"),children:[n.jsx("span",{className:"tab-icon",children:(0,n.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),"History"]}),(0,n.jsxs)("button",{className:`tab-item${"manage"===r?" active":""}`,onClick:()=>i("manage"),children:[n.jsx("span",{className:"tab-icon",children:(0,n.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"3"}),n.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),"Settings"]})]}),c&&n.jsx("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&d(!1)},children:(0,n.jsxs)("div",{className:"modal-sheet",children:[n.jsx("div",{className:"modal-handle"}),n.jsx(g,{onSuccess:()=>{d(!1),j(e=>e+1)},currentUser:e})]})}),null!==u&&n.jsx("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&N()},children:(0,n.jsxs)("div",{className:"modal-sheet",children:[n.jsx("div",{className:"modal-handle"}),n.jsx(v,{accountId:u,currentUser:e,onClose:N,onUpdate:()=>{j(e=>e+1)}})]})})]}):n.jsx(p,{onLogin:t})}},8472:()=>{},1596:(e,t,r)=>{"use strict";r(8472);var n=r(7577),a=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n),i="undefined"!=typeof process&&process.env&&!0,s=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,a=t.optimizeForSpeed,o=void 0===a?i:a;l(s(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",l("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(s(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,r){t&&l(s(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return r?a.insertBefore(n,r):a.appendChild(n),n},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},d={};function u(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return d[n]||(d[n]="jsx-"+c(e+"-"+r)),d[n]}function p(e,t){var r=e+(t=t.replace(/\/style/gi,"\\/style"));return d[r]||(d[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[r]}var m=n.createContext(null);m.displayName="StyleSheetContext",a.default.useInsertionEffect||a.default.useLayoutEffect;var h=void 0;function f(e){var t=h||n.useContext(m);return t&&t.add(e),null}f.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},t.style=f},7626:(e,t,r)=>{"use strict";e.exports=r(1596).style},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,metadata:()=>a,viewport:()=>i});var n=r(9510);r(7272);let a={title:"SavinGCs — Savings Tracker",description:"Track your savings together. Built for couples saving for their first home."},i={width:"device-width",initialScale:1,maximumScale:1,themeColor:"#070B1E"};function s({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{children:e})})}},908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>s,__esModule:()=>i,default:()=>o});var n=r(8570);let a=(0,n.createProxy)(String.raw`C:\Users\G\Desktop\SavinGCs\app\page.tsx`),{__esModule:i,$$typeof:s}=a;a.default;let o=(0,n.createProxy)(String.raw`C:\Users\G\Desktop\SavinGCs\app\page.tsx#default`)},338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION:function(){return n},FLIGHT_PARAMETERS:function(){return l},NEXT_DID_POSTPONE_HEADER:function(){return d},NEXT_ROUTER_PREFETCH_HEADER:function(){return i},NEXT_ROUTER_STATE_TREE:function(){return a},NEXT_RSC_UNION_QUERY:function(){return c},NEXT_URL:function(){return s},RSC_CONTENT_TYPE_HEADER:function(){return o},RSC_HEADER:function(){return r}});let r="RSC",n="Next-Action",a="Next-Router-State-Tree",i="Next-Router-Prefetch",s="Next-Url",o="text/x-component",l=[[r],[a],[i]],c="_rsc",d="x-nextjs-postponed";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7255:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var a={},i=t.split(n),s=(r||{}).decode||e,o=0;o<i.length;o++){var l=i[o],c=l.indexOf("=");if(!(c<0)){var d=l.substr(0,c).trim(),u=l.substr(++c,l.length).trim();'"'==u[0]&&(u=u.slice(1,-1)),void 0==a[d]&&(a[d]=function(e,t){try{return t(e)}catch(t){return e}}(u,s))}}return a},t.serialize=function(e,t,n){var i=n||{},s=i.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var o=s(t);if(o&&!a.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(i.domain){if(!a.test(i.domain))throw TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!a.test(i.path))throw TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var e=decodeURIComponent,r=encodeURIComponent,n=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},1792:(e,t)=>{"use strict";function r(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){for(var a="",i=r+1;i<e.length;){var s=e.charCodeAt(i);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s){a+=e[i++];continue}break}if(!a)throw TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:a}),r=i;continue}if("("===n){var o=1,l="",i=r+1;if("?"===e[i])throw TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;){if("\\"===e[i]){l+=e[i++]+e[i++];continue}if(")"===e[i]){if(0==--o){i++;break}}else if("("===e[i]&&(o++,"?"!==e[i+1]))throw TypeError("Capturing groups are not allowed at "+i);l+=e[i++]}if(o)throw TypeError("Unbalanced pattern at "+r);if(!l)throw TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:l}),r=i;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,a=void 0===n?"./":n,s="[^"+i(t.delimiter||"/#?")+"]+?",o=[],l=0,c=0,d="",u=function(e){if(c<r.length&&r[c].type===e)return r[c++].value},p=function(e){var t=u(e);if(void 0!==t)return t;var n=r[c];throw TypeError("Unexpected "+n.type+" at "+n.index+", expected "+e)},m=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};c<r.length;){var h=u("CHAR"),f=u("NAME"),x=u("PATTERN");if(f||x){var g=h||"";-1===a.indexOf(g)&&(d+=g,g=""),d&&(o.push(d),d=""),o.push({name:f||l++,prefix:g,suffix:"",pattern:x||s,modifier:u("MODIFIER")||""});continue}var v=h||u("ESCAPED_CHAR");if(v){d+=v;continue}if(d&&(o.push(d),d=""),u("OPEN")){var g=m(),y=u("NAME")||"",j=u("PATTERN")||"",b=m();p("CLOSE"),o.push({name:y||(j?l++:""),pattern:y&&!j?s:j,prefix:g,suffix:b,modifier:u("MODIFIER")||""});continue}p("END")}return o}function n(e,t){void 0===t&&(t={});var r=s(t),n=t.encode,a=void 0===n?function(e){return e}:n,i=t.validate,o=void 0===i||i,l=e.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",r)});return function(t){for(var r="",n=0;n<e.length;n++){var i=e[n];if("string"==typeof i){r+=i;continue}var s=t?t[i.name]:void 0,c="?"===i.modifier||"*"===i.modifier,d="*"===i.modifier||"+"===i.modifier;if(Array.isArray(s)){if(!d)throw TypeError('Expected "'+i.name+'" to not repeat, but got an array');if(0===s.length){if(c)continue;throw TypeError('Expected "'+i.name+'" to not be empty')}for(var u=0;u<s.length;u++){var p=a(s[u],i);if(o&&!l[n].test(p))throw TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but got "'+p+'"');r+=i.prefix+p+i.suffix}continue}if("string"==typeof s||"number"==typeof s){var p=a(String(s),i);if(o&&!l[n].test(p))throw TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+p+'"');r+=i.prefix+p+i.suffix;continue}if(!c){var m=d?"an array":"a string";throw TypeError('Expected "'+i.name+'" to be '+m)}}return r}}function a(e,t,r){void 0===r&&(r={});var n=r.decode,a=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var i=n[0],s=n.index,o=Object.create(null),l=1;l<n.length;l++)!function(e){if(void 0!==n[e]){var r=t[e-1];"*"===r.modifier||"+"===r.modifier?o[r.name]=n[e].split(r.prefix+r.suffix).map(function(e){return a(e,r)}):o[r.name]=a(n[e],r)}}(l);return{path:i,index:s,params:o}}}function i(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function s(e){return e&&e.sensitive?"":"i"}function o(e,t,r){void 0===r&&(r={});for(var n=r.strict,a=void 0!==n&&n,o=r.start,l=r.end,c=r.encode,d=void 0===c?function(e){return e}:c,u="["+i(r.endsWith||"")+"]|$",p="["+i(r.delimiter||"/#?")+"]",m=void 0===o||o?"^":"",h=0;h<e.length;h++){var f=e[h];if("string"==typeof f)m+=i(d(f));else{var x=i(d(f.prefix)),g=i(d(f.suffix));if(f.pattern){if(t&&t.push(f),x||g){if("+"===f.modifier||"*"===f.modifier){var v="*"===f.modifier?"?":"";m+="(?:"+x+"((?:"+f.pattern+")(?:"+g+x+"(?:"+f.pattern+"))*)"+g+")"+v}else m+="(?:"+x+"("+f.pattern+")"+g+")"+f.modifier}else m+="("+f.pattern+")"+f.modifier}else m+="(?:"+x+g+")"+f.modifier}}if(void 0===l||l)a||(m+=p+"?"),m+=r.endsWith?"(?="+u+")":"$";else{var y=e[e.length-1],j="string"==typeof y?p.indexOf(y[y.length-1])>-1:void 0===y;a||(m+="(?:"+p+"(?="+u+"))?"),j||(m+="(?="+p+"|"+u+")")}return new RegExp(m,s(r))}function l(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?RegExp("(?:"+e.map(function(e){return l(e,t,n).source}).join("|")+")",s(n)):o(r(e,n),t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=r,t.compile=function(e,t){return n(r(e,t),t)},t.tokensToFunction=n,t.match=function(e,t){var r=[];return a(l(e,r,t),r,t)},t.regexpToFunction=a,t.tokensToRegexp=o,t.pathToRegexp=l},6621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fillMetadataSegment:function(){return u},normalizeMetadataRoute:function(){return p}});let n=r(616),a=function(e){return e&&e.__esModule?e:{default:e}}(r(1293)),i=r(7262),s=r(5679),o=r(8785),l=r(8168),c=r(1040);function d(e){let t="";return(e.includes("(")&&e.includes(")")||e.includes("@"))&&(t=(0,o.djb2Hash)(e).toString(36).slice(0,6)),t}function u(e,t,r){let n=(0,l.normalizeAppPath)(e),o=(0,s.getNamedRouteRegex)(n,!1),u=(0,i.interpolateDynamicPath)(n,t,o),p=d(e),m=p?`-${p}`:"",{name:h,ext:f}=a.default.parse(r);return(0,c.normalizePathSep)(a.default.join(u,`${h}${m}${f}`))}function p(e){if(!(0,n.isMetadataRoute)(e))return e;let t=e,r="";if("/robots"===e?t+=".txt":"/manifest"===e?t+=".webmanifest":e.endsWith("/sitemap")?t+=".xml":r=d(e.slice(0,-(a.default.basename(e).length+1))),!t.endsWith("/route")){let{dir:i,name:s,ext:o}=a.default.parse(t),l=(0,n.isStaticMetadataRoute)(e);t=a.default.posix.join(i,`${s}${r?`-${r}`:""}${o}`,l?"":"[[...__metadata_id__]]","route")}return t}},616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{STATIC_METADATA_IMAGES:function(){return a},isMetadataRoute:function(){return d},isMetadataRouteFile:function(){return o},isStaticMetadataRoute:function(){return c},isStaticMetadataRouteFile:function(){return l}});let n=r(1040),a={icon:{filename:"icon",extensions:["ico","jpg","jpeg","png","svg"]},apple:{filename:"apple-icon",extensions:["jpg","jpeg","png"]},favicon:{filename:"favicon",extensions:["ico"]},openGraph:{filename:"opengraph-image",extensions:["jpg","jpeg","png","gif"]},twitter:{filename:"twitter-image",extensions:["jpg","jpeg","png","gif"]}},i=["js","jsx","ts","tsx"],s=e=>`(?:${e.join("|")})`;function o(e,t,r){let i=[RegExp(`^[\\\\/]robots${r?`\\.${s(t.concat("txt"))}$`:""}`),RegExp(`^[\\\\/]manifest${r?`\\.${s(t.concat("webmanifest","json"))}$`:""}`),RegExp("^[\\\\/]favicon\\.ico$"),RegExp(`[\\\\/]sitemap${r?`\\.${s(t.concat("xml"))}$`:""}`),RegExp(`[\\\\/]${a.icon.filename}\\d?${r?`\\.${s(t.concat(a.icon.extensions))}$`:""}`),RegExp(`[\\\\/]${a.apple.filename}\\d?${r?`\\.${s(t.concat(a.apple.extensions))}$`:""}`),RegExp(`[\\\\/]${a.openGraph.filename}\\d?${r?`\\.${s(t.concat(a.openGraph.extensions))}$`:""}`),RegExp(`[\\\\/]${a.twitter.filename}\\d?${r?`\\.${s(t.concat(a.twitter.extensions))}$`:""}`)],o=(0,n.normalizePathSep)(e);return i.some(e=>e.test(o))}function l(e){return o(e,[],!0)}function c(e){return"/robots"===e||"/manifest"===e||l(e)}function d(e){let t=e.replace(/^\/?app\//,"").replace(/\/route$/,"");return"/"!==t[0]&&(t="/"+t),!t.endsWith("/page")&&o(t,i,!1)}},6975:(e,t,r)=>{"use strict";function n(e){return function(){let{cookie:t}=e;if(!t)return{};let{parse:n}=r(7255);return n(Array.isArray(t)?t.join("; "):t)}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCookieParser",{enumerable:!0,get:function(){return n}})},1586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return a},extractInterceptionRouteInformation:function(){return s},isInterceptionRouteAppPath:function(){return i}});let n=r(8168),a=["(..)(..)","(.)","(..)","(...)"];function i(e){return void 0!==e.split("/").find(e=>a.find(t=>e.startsWith(t)))}function s(e){let t,r,i;for(let n of e.split("/"))if(r=a.find(e=>n.startsWith(e))){[t,i]=e.split(r,2);break}if(!t||!r||!i)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,n.normalizeAppPath)(t),r){case"(.)":i="/"===t?`/${i}`:t+"/"+i;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);i=t.split("/").slice(0,-1).concat(i).join("/");break;case"(...)":i="/"+i;break;case"(..)(..)":let s=t.split("/");if(s.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);i=s.slice(0,-2).concat(i).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:i}}},7262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getUtils:function(){return f},interpolateDynamicPath:function(){return m},normalizeDynamicRouteParams:function(){return h},normalizeVercelUrl:function(){return p}});let n=r(7310),a=r(5014),i=r(3707),s=r(5679),o=r(3525),l=r(5257),c=r(7847),d=r(8168),u=r(1943);function p(e,t,r,a,i){if(a&&t&&i){let t=(0,n.parse)(e.url,!0);for(let e of(delete t.search,Object.keys(t.query)))(e!==u.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(u.NEXT_QUERY_PARAM_PREFIX)||(r||Object.keys(i.groups)).includes(e))&&delete t.query[e];e.url=(0,n.format)(t)}}function m(e,t,r){if(!r)return e;for(let n of Object.keys(r.groups)){let{optional:a,repeat:i}=r.groups[n],s=`[${i?"...":""}${n}]`;a&&(s=`[${s}]`);let o=e.indexOf(s);if(o>-1){let r;let a=t[n];r=Array.isArray(a)?a.map(e=>e&&encodeURIComponent(e)).join("/"):a?encodeURIComponent(a):"",e=e.slice(0,o)+r+e.slice(o+s.length)}}return e}function h(e,t,r,n){let a=!0;return r?{params:e=Object.keys(r.groups).reduce((i,s)=>{let o=e[s];"string"==typeof o&&(o=(0,d.normalizeRscURL)(o)),Array.isArray(o)&&(o=o.map(e=>("string"==typeof e&&(e=(0,d.normalizeRscURL)(e)),e)));let l=n[s],c=r.groups[s].optional;return((Array.isArray(l)?l.some(e=>Array.isArray(o)?o.some(t=>t.includes(e)):null==o?void 0:o.includes(e)):null==o?void 0:o.includes(l))||void 0===o&&!(c&&t))&&(a=!1),c&&(!o||Array.isArray(o)&&1===o.length&&("index"===o[0]||o[0]===`[[...${s}]]`))&&(o=void 0,delete e[s]),o&&"string"==typeof o&&r.groups[s].repeat&&(o=o.split("/")),o&&(i[s]=o),i},{}),hasValidParams:a}:{params:e,hasValidParams:!1}}function f({page:e,i18n:t,basePath:r,rewrites:n,pageIsDynamic:d,trailingSlash:f,caseSensitive:x}){let g,v,y;return d&&(g=(0,s.getNamedRouteRegex)(e,!1),y=(v=(0,o.getRouteMatcher)(g))(e)),{handleRewrites:function(s,o){let u={},p=o.pathname,m=n=>{let c=(0,i.getPathMatch)(n.source+(f?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!x})(o.pathname);if((n.has||n.missing)&&c){let e=(0,l.matchHas)(s,o.query,n.has,n.missing);e?Object.assign(c,e):c=!1}if(c){let{parsedDestination:i,destQuery:s}=(0,l.prepareDestination)({appendParamsToQuery:!0,destination:n.destination,params:c,query:o.query});if(i.protocol)return!0;if(Object.assign(u,s,c),Object.assign(o.query,i.query),delete i.query,Object.assign(o,i),p=o.pathname,r&&(p=p.replace(RegExp(`^${r}`),"")||"/"),t){let e=(0,a.normalizeLocalePath)(p,t.locales);p=e.pathname,o.query.nextInternalLocale=e.detectedLocale||c.nextInternalLocale}if(p===e)return!0;if(d&&v){let e=v(p);if(e)return o.query={...o.query,...e},!0}}return!1};for(let e of n.beforeFiles||[])m(e);if(p!==e){let t=!1;for(let e of n.afterFiles||[])if(t=m(e))break;if(!t&&!(()=>{let t=(0,c.removeTrailingSlash)(p||"");return t===(0,c.removeTrailingSlash)(e)||(null==v?void 0:v(t))})()){for(let e of n.fallback||[])if(t=m(e))break}}return u},defaultRouteRegex:g,dynamicRouteMatcher:v,defaultRouteMatches:y,getParamsFromRouteMatches:function(e,r,n){return(0,o.getRouteMatcher)(function(){let{groups:e,routeKeys:a}=g;return{re:{exec:i=>{let s=Object.fromEntries(new URLSearchParams(i)),o=t&&n&&s["1"]===n;for(let e of Object.keys(s)){let t=s[e];e!==u.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(u.NEXT_QUERY_PARAM_PREFIX)&&(s[e.substring(u.NEXT_QUERY_PARAM_PREFIX.length)]=t,delete s[e])}let l=Object.keys(a||{}),c=e=>{if(t){let a=Array.isArray(e),i=a?e[0]:e;if("string"==typeof i&&t.locales.some(e=>e.toLowerCase()===i.toLowerCase()&&(n=e,r.locale=n,!0)))return a&&e.splice(0,1),!a||0===e.length}return!1};return l.every(e=>s[e])?l.reduce((t,r)=>{let n=null==a?void 0:a[r];return n&&!c(s[r])&&(t[e[n].pos]=s[r]),t},{}):Object.keys(s).reduce((e,t)=>{if(!c(s[t])){let r=t;return o&&(r=parseInt(t,10)-1+""),Object.assign(e,{[r]:s[t]})}return e},{})}},groups:e}}())(e.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(e,t)=>h(e,t,g,y),normalizeVercelUrl:(e,t,r)=>p(e,t,r,d,g),interpolateDynamicPath:(e,t)=>m(e,t,g)}}},4080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return a}});let r=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function a(e){return r.test(e)?e.replace(n,"\\$&"):e}},8785:(e,t)=>{"use strict";function r(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)&4294967295;return t>>>0}function n(e){return r(e).toString(36).slice(0,5)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{djb2Hash:function(){return r},hexHash:function(){return n}})},5014:(e,t)=>{"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},1293:(e,t,r)=>{"use strict";let n;n=r(1017),e.exports=n},1555:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},1040:(e,t)=>{"use strict";function r(e){return e.replace(/\\/g,"/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathSep",{enumerable:!0,get:function(){return r}})},8168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return i},normalizeRscURL:function(){return s}});let n=r(1555),a=r(5406);function i(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,a.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function s(e){return e.replace(/\.rsc($|\?)/,"$1")}},1942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseRelativeUrl",{enumerable:!0,get:function(){return a}}),r(2569);let n=r(4869);function a(e,t){let r=new URL("http://n"),a=t?new URL(t,r):e.startsWith(".")?new URL("http://n"):r,{pathname:i,searchParams:s,search:o,hash:l,href:c,origin:d}=new URL(e,a);if(d!==r.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:i,query:(0,n.searchParamsToUrlQuery)(s),search:o,hash:l,href:c.slice(r.origin.length)}}},3226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseUrl",{enumerable:!0,get:function(){return i}});let n=r(4869),a=r(1942);function i(e){if(e.startsWith("/"))return(0,a.parseRelativeUrl)(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:(0,n.searchParamsToUrlQuery)(t.searchParams),search:t.search}}},3707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getPathMatch",{enumerable:!0,get:function(){return a}});let n=r(1792);function a(e,t){let r=[],a=(0,n.pathToRegexp)(e,r,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),i=(0,n.regexpToFunction)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(a.source),a.flags):a,r);return(e,n)=>{if("string"!=typeof e)return!1;let a=i(e);if(!a)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of r)"number"==typeof e.name&&delete a.params[e.name];return{...n,...a.params}}}},5257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{compileNonPath:function(){return u},matchHas:function(){return d},prepareDestination:function(){return p}});let n=r(1792),a=r(4080),i=r(3226),s=r(1586),o=r(338),l=r(6975);function c(e){return e.replace(/__ESC_COLON_/gi,":")}function d(e,t,r,n){void 0===r&&(r=[]),void 0===n&&(n=[]);let a={},i=r=>{let n;let i=r.key;switch(r.type){case"header":i=i.toLowerCase(),n=e.headers[i];break;case"cookie":n="cookies"in e?e.cookies[r.key]:(0,l.getCookieParser)(e.headers)()[r.key];break;case"query":n=t[i];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};n=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!r.value&&n)return a[function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}(i)]=n,!0;if(n){let e=RegExp("^"+r.value+"$"),t=Array.isArray(n)?n.slice(-1)[0].match(e):n.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{a[e]=t.groups[e]}):"host"===r.type&&t[0]&&(a.host=t[0])),!0}return!1};return!!r.every(e=>i(e))&&!n.some(e=>i(e))&&a}function u(e,t){if(!e.includes(":"))return e;for(let r of Object.keys(t))e.includes(":"+r)&&(e=e.replace(RegExp(":"+r+"\\*","g"),":"+r+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+r+"\\?","g"),":"+r+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+r+"\\+","g"),":"+r+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+r+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+r));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,n.compile)("/"+e,{validate:!1})(t).slice(1)}function p(e){let t;let r=Object.assign({},e.query);delete r.__nextLocale,delete r.__nextDefaultLocale,delete r.__nextDataReq,delete r.__nextInferredLocaleFromDefault,delete r[o.NEXT_RSC_UNION_QUERY];let l=e.destination;for(let t of Object.keys({...e.params,...r}))l=l.replace(RegExp(":"+(0,a.escapeStringRegexp)(t),"g"),"__ESC_COLON_"+t);let d=(0,i.parseUrl)(l),p=d.query,m=c(""+d.pathname+(d.hash||"")),h=c(d.hostname||""),f=[],x=[];(0,n.pathToRegexp)(m,f),(0,n.pathToRegexp)(h,x);let g=[];f.forEach(e=>g.push(e.name)),x.forEach(e=>g.push(e.name));let v=(0,n.compile)(m,{validate:!1}),y=(0,n.compile)(h,{validate:!1});for(let[t,r]of Object.entries(p))Array.isArray(r)?p[t]=r.map(t=>u(c(t),e.params)):"string"==typeof r&&(p[t]=u(c(r),e.params));let j=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!j.some(e=>g.includes(e)))for(let t of j)t in p||(p[t]=e.params[t]);if((0,s.isInterceptionRouteAppPath)(m))for(let t of m.split("/")){let r=s.INTERCEPTION_ROUTE_MARKERS.find(e=>t.startsWith(e));if(r){e.params["0"]=r;break}}try{let[r,n]=(t=v(e.params)).split("#",2);d.hostname=y(e.params),d.pathname=r,d.hash=(n?"#":"")+(n||""),delete d.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return d.query={...r,...d.query},{newUrl:t,destQuery:p,parsedDestination:d}}},4869:(e,t)=>{"use strict";function r(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function n(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,a]=e;Array.isArray(a)?a.forEach(e=>t.append(r,n(e))):t.set(r,n(a))}),t}function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,r)=>e.append(r,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return i},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return a}})},7847:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},3525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return a}});let n=r(2569);function a(e){let{re:t,groups:r}=e;return e=>{let a=t.exec(e);if(!a)return!1;let i=e=>{try{return decodeURIComponent(e)}catch(e){throw new n.DecodeError("failed to decode param")}},s={};return Object.keys(r).forEach(e=>{let t=r[e],n=a[t.pos];void 0!==n&&(s[e]=~n.indexOf("/")?n.split("/").map(e=>i(e)):t.repeat?[i(n)]:i(n))}),s}}},5679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getNamedMiddlewareRegex:function(){return p},getNamedRouteRegex:function(){return u},getRouteRegex:function(){return l}});let n=r(1586),a=r(4080),i=r(7847);function s(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function o(e){let t=(0,i.removeTrailingSlash)(e).slice(1).split("/"),r={},o=1;return{parameterizedRoute:t.map(e=>{let t=n.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),i=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&i){let{key:e,optional:n,repeat:l}=s(i[1]);return r[e]={pos:o++,repeat:l,optional:n},"/"+(0,a.escapeStringRegexp)(t)+"([^/]+?)"}if(!i)return"/"+(0,a.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:n}=s(i[1]);return r[e]={pos:o++,repeat:t,optional:n},t?n?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function l(e){let{parameterizedRoute:t,groups:r}=o(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function c(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:n,routeKeys:i,keyPrefix:o}=e,{key:l,optional:c,repeat:d}=s(n),u=l.replace(/\W/g,"");o&&(u=""+o+u);let p=!1;(0===u.length||u.length>30)&&(p=!0),isNaN(parseInt(u.slice(0,1)))||(p=!0),p&&(u=r()),o?i[u]=""+o+l:i[u]=l;let m=t?(0,a.escapeStringRegexp)(t):"";return d?c?"(?:/"+m+"(?<"+u+">.+?))?":"/"+m+"(?<"+u+">.+?)":"/"+m+"(?<"+u+">[^/]+?)"}function d(e,t){let r;let s=(0,i.removeTrailingSlash)(e).slice(1).split("/"),o=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:s.map(e=>{let r=n.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),i=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&i){let[r]=e.split(i[0]);return c({getSafeRouteKey:o,interceptionMarker:r,segment:i[1],routeKeys:l,keyPrefix:t?"nxtI":void 0})}return i?c({getSafeRouteKey:o,segment:i[1],routeKeys:l,keyPrefix:t?"nxtP":void 0}):"/"+(0,a.escapeStringRegexp)(e)}).join(""),routeKeys:l}}function u(e,t){let r=d(e,t);return{...l(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function p(e,t){let{parameterizedRoute:r}=o(e),{catchAll:n=!0}=t;if("/"===r)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:a}=d(e,!1);return{namedRegex:"^"+a+(n?"(?:(/.*)?)":"")+"$"}}},5406:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DEFAULT_SEGMENT_KEY:function(){return a},PAGE_SEGMENT_KEY:function(){return n},isGroupSegment:function(){return r}});let n="__PAGE__",a="__DEFAULT__"},2569:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return h},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return g},NormalizeError:function(){return f},PageNotFoundError:function(){return x},SP:function(){return p},ST:function(){return m},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return l},getLocationOrigin:function(){return s},getURL:function(){return o},isAbsoluteUrl:function(){return i},isResSent:function(){return c},loadGetInitialProps:function(){return u},normalizeRepeatedSlashes:function(){return d},stringifyError:function(){return y}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return r||(r=!0,t=e(...a)),t}}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>a.test(e);function s(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function o(){let{href:e}=window.location,t=s();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function d(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function u(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await u(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&c(r))return n;if(!n)throw Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.');return n}let p="undefined"!=typeof performance,m=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class h extends Error{}class f extends Error{}class x extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function y(e){return JSON.stringify({message:e.message,stack:e.stack})}},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(6621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,471],()=>r(6798));module.exports=n})();