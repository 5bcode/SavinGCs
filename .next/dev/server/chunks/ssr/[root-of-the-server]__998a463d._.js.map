{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/Dashboard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface Account {\r\n    id: number;\r\n    pot_id: number;\r\n    account_name: string;\r\n    account_type: string;\r\n    current_balance: number;\r\n    pot_name: string;\r\n    pot_color: string;\r\n}\r\n\r\ninterface SavingsPot {\r\n    id: number;\r\n    name: string;\r\n    goal_amount: number | null;\r\n    color: string;\r\n    icon: string;\r\n    total_balance: number;\r\n}\r\n\r\ninterface DashboardProps {\r\n    onUpdateBalance: () => void;\r\n}\r\n\r\nexport default function Dashboard({ onUpdateBalance }: DashboardProps) {\r\n    const [pots, setPots] = useState<SavingsPot[]>([]);\r\n    const [accounts, setAccounts] = useState<Account[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => { fetchData(); }, []);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [potsRes, accountsRes] = await Promise.all([fetch('/api/pots'), fetch('/api/accounts')]);\r\n            const potsData = await potsRes.json();\r\n            const accountsData = await accountsRes.json();\r\n            setPots(potsData.pots || []);\r\n            setAccounts(accountsData.accounts || []);\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const totalSavings = pots.reduce((sum, pot) => sum + (pot.total_balance || 0), 0);\r\n    const totalGoal = pots.reduce((sum, pot) => sum + (pot.goal_amount || 0), 0);\r\n    const overallProgress = totalGoal > 0 ? (totalSavings / totalGoal) * 100 : 0;\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"stack\">\r\n                <div className=\"skeleton\" style={{ height: '220px' }} />\r\n                <div className=\"skeleton\" style={{ height: '100px' }} />\r\n                <div className=\"skeleton\" style={{ height: '80px' }} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* ‚îÄ‚îÄ‚îÄ Net Worth Hero ‚îÄ‚îÄ‚îÄ */}\r\n            <div style={{ textAlign: 'center', padding: 'var(--sp-lg) 0 var(--sp-md)' }}>\r\n                <div className=\"balance-label\">Total Net Worth</div>\r\n                <div className=\"balance-amount\">\r\n                    ¬£{totalSavings.toLocaleString('en-GB', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                </div>\r\n                {totalGoal > 0 && (\r\n                    <div style={{ fontSize: '0.8rem', color: 'var(--text-tertiary)', marginTop: '6px' }}>\r\n                        {Math.min(overallProgress, 100).toFixed(1)}% of ¬£{totalGoal.toLocaleString('en-GB')} goal\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* ‚îÄ‚îÄ‚îÄ Overall Progress Ring Card ‚îÄ‚îÄ‚îÄ */}\r\n            {totalGoal > 0 && (\r\n                <div className=\"credit-card mb-lg\" style={{ position: 'relative' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--sp-xl)', position: 'relative', zIndex: 1 }}>\r\n                        <ProgressRing percentage={Math.min(overallProgress, 100)} size={96} strokeWidth={7}>\r\n                            <div style={{ textAlign: 'center' }}>\r\n                                <div style={{ fontFamily: 'var(--font-mono)', fontSize: '1rem', fontWeight: 700, color: 'white', lineHeight: 1 }}>\r\n                                    {Math.min(overallProgress, 100).toFixed(0)}%\r\n                                </div>\r\n                                <div style={{ fontSize: '0.55rem', color: 'rgba(255,255,255,0.6)', marginTop: '2px' }}>\r\n                                    saved\r\n                                </div>\r\n                            </div>\r\n                        </ProgressRing>\r\n                        <div style={{ flex: 1 }}>\r\n                            <div style={{ fontSize: '0.7rem', fontWeight: 600, opacity: 0.7, letterSpacing: '0.1em', textTransform: 'uppercase', marginBottom: '4px' }}>\r\n                                Savings Progress\r\n                            </div>\r\n                            <div style={{ fontFamily: 'var(--font-mono)', fontSize: '1.4rem', fontWeight: 700, color: 'white' }}>\r\n                                ¬£{totalSavings.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                            </div>\r\n                            <div style={{ fontSize: '0.75rem', opacity: 0.6, marginTop: '4px' }}>\r\n                                ¬£{(totalGoal - totalSavings > 0 ? totalGoal - totalSavings : 0).toLocaleString('en-GB')} remaining\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/* Wave decoration */}\r\n                    <div className=\"wave-decoration\">\r\n                        <svg viewBox=\"0 0 400 80\" fill=\"none\" preserveAspectRatio=\"none\">\r\n                            <path d=\"M0 40 Q50 10 100 35 T200 30 T300 40 T400 25 L400 80 L0 80Z\" fill=\"rgba(13,148,136,0.3)\" />\r\n                            <path d=\"M0 50 Q60 25 120 45 T240 35 T360 50 T400 40 L400 80 L0 80Z\" fill=\"rgba(13,148,136,0.15)\" />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* ‚îÄ‚îÄ‚îÄ Quick Update Button ‚îÄ‚îÄ‚îÄ */}\r\n            <button className=\"btn btn-primary mb-lg\" style={{ width: '100%' }} onClick={onUpdateBalance}>\r\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                    <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"23\" /><path d=\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\" />\r\n                </svg>\r\n                Update Balances\r\n            </button>\r\n\r\n            {/* ‚îÄ‚îÄ‚îÄ Savings Pots Breakdown ‚îÄ‚îÄ‚îÄ */}\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Savings Pots</div>\r\n                <div className=\"section-link\">{pots.length} pot{pots.length !== 1 ? 's' : ''}</div>\r\n            </div>\r\n\r\n            {pots.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                    <div className=\"empty-state-icon\">üè°</div>\r\n                    <div className=\"empty-state-text\">\r\n                        No savings pots yet.<br />\r\n                        Go to Settings to create your first one!\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"stack mb-xl\">\r\n                    {pots.map((pot) => {\r\n                        const potAccounts = accounts.filter((a) => a.pot_id === pot.id);\r\n                        return <PotBreakdownCard key={pot.id} pot={pot} accounts={potAccounts} />;\r\n                    })}\r\n                </div>\r\n            )}\r\n\r\n            {/* ‚îÄ‚îÄ‚îÄ All Accounts Overview ‚îÄ‚îÄ‚îÄ */}\r\n            {accounts.length > 0 && (\r\n                <>\r\n                    <div className=\"section-header\">\r\n                        <div className=\"section-title\">All Accounts</div>\r\n                        <div className=\"section-link\">{accounts.length} account{accounts.length !== 1 ? 's' : ''}</div>\r\n                    </div>\r\n                    <div className=\"stack\" style={{ gap: 'var(--sp-sm)' }}>\r\n                        {accounts.map((account) => (\r\n                            <AccountBalanceRow key={account.id} account={account} />\r\n                        ))}\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n/* ‚îÄ‚îÄ‚îÄ Pot Breakdown Card ‚îÄ‚îÄ‚îÄ */\r\nfunction PotBreakdownCard({ pot, accounts }: { pot: SavingsPot; accounts: Account[] }) {\r\n    const progress = pot.goal_amount ? (pot.total_balance / pot.goal_amount) * 100 : 0;\r\n    const clampedProgress = Math.min(progress, 100);\r\n    const isGoalMet = pot.goal_amount && pot.total_balance >= pot.goal_amount;\r\n\r\n    return (\r\n        <div className=\"card\" style={{ padding: 'var(--sp-lg)' }}>\r\n            <div className=\"flex items-center justify-between mb-md\">\r\n                <div className=\"flex items-center gap-md\">\r\n                    <div className=\"pot-icon\" style={{ background: `${pot.color}25` }}>\r\n                        {getIcon(pot.icon)}\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontWeight: 700, fontSize: '1rem' }}>{pot.name}</div>\r\n                        {pot.goal_amount && (\r\n                            <div style={{ fontSize: '0.75rem', color: 'var(--text-tertiary)', marginTop: '2px' }}>\r\n                                Goal: ¬£{pot.goal_amount.toLocaleString('en-GB')}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div style={{ textAlign: 'right' }}>\r\n                    <div style={{ fontFamily: 'var(--font-mono)', fontWeight: 700, fontSize: '1.1rem', color: 'var(--text-primary)' }}>\r\n                        ¬£{pot.total_balance.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                    </div>\r\n                    {isGoalMet && (\r\n                        <div style={{ fontSize: '0.7rem', color: 'var(--success)', fontWeight: 600, marginTop: '2px' }}>‚úì Goal reached</div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {pot.goal_amount && (\r\n                <div>\r\n                    <div className=\"progress-track\" style={{ height: '8px', marginTop: 0, marginBottom: '6px' }}>\r\n                        <div\r\n                            className={`progress-fill${isGoalMet ? '' : ' purple'}`}\r\n                            style={{ width: `${clampedProgress}%` }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex justify-between\" style={{ fontSize: '0.7rem', color: 'var(--text-tertiary)' }}>\r\n                        <span>{clampedProgress.toFixed(1)}% complete</span>\r\n                        <span>¬£{Math.max(0, (pot.goal_amount || 0) - pot.total_balance).toLocaleString('en-GB')} to go</span>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Inline account breakdown */}\r\n            {accounts.length > 0 && (\r\n                <div style={{ marginTop: 'var(--sp-md)', paddingTop: 'var(--sp-md)', borderTop: '1px solid var(--border)' }}>\r\n                    {accounts.map((acc) => (\r\n                        <div key={acc.id} className=\"flex justify-between items-center\" style={{ padding: '6px 0' }}>\r\n                            <div className=\"flex items-center gap-sm\">\r\n                                <div style={{ width: '6px', height: '6px', borderRadius: '50%', background: pot.color, flexShrink: 0 }} />\r\n                                <span style={{ fontSize: '0.8rem', color: 'var(--text-secondary)' }}>{acc.account_name}</span>\r\n                                <span style={{ fontSize: '0.65rem', color: 'var(--text-tertiary)', padding: '1px 6px', background: 'var(--bg-secondary)', borderRadius: 'var(--r-sm)' }}>\r\n                                    {acc.account_type.toUpperCase()}\r\n                                </span>\r\n                            </div>\r\n                            <span style={{ fontFamily: 'var(--font-mono)', fontSize: '0.85rem', fontWeight: 600, color: 'var(--text-primary)' }}>\r\n                                ¬£{acc.current_balance.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                            </span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n/* ‚îÄ‚îÄ‚îÄ Account Balance Row ‚îÄ‚îÄ‚îÄ */\r\nfunction AccountBalanceRow({ account }: { account: Account }) {\r\n    return (\r\n        <div className=\"pot-item\" style={{ cursor: 'default' }}>\r\n            <div className=\"pot-icon\" style={{\r\n                background: `linear-gradient(135deg, ${account.pot_color || 'var(--purple-start)'}30, ${account.pot_color || 'var(--purple-start)'}10)`,\r\n                fontSize: '1rem',\r\n            }}>\r\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={account.pot_color || 'var(--purple-mid)'} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                    <rect x=\"1\" y=\"4\" width=\"22\" height=\"16\" rx=\"2\" ry=\"2\" /><line x1=\"1\" y1=\"10\" x2=\"23\" y2=\"10\" />\r\n                </svg>\r\n            </div>\r\n            <div className=\"pot-info\">\r\n                <div className=\"pot-name\">{account.account_name}</div>\r\n                <div className=\"pot-meta\">{account.pot_name} ‚Ä¢ {account.account_type}</div>\r\n            </div>\r\n            <div className=\"pot-amount\">\r\n                ¬£{account.current_balance.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n/* ‚îÄ‚îÄ‚îÄ Circular Progress Ring ‚îÄ‚îÄ‚îÄ */\r\nfunction ProgressRing({ percentage, size = 96, strokeWidth = 7, children }: {\r\n    percentage: number; size?: number; strokeWidth?: number; children?: React.ReactNode;\r\n}) {\r\n    const radius = (size - strokeWidth) / 2;\r\n    const circumference = radius * 2 * Math.PI;\r\n    const offset = circumference - (percentage / 100) * circumference;\r\n\r\n    return (\r\n        <div className=\"ring-container\" style={{ width: size, height: size }}>\r\n            <svg width={size} height={size} viewBox={`0 0 ${size} ${size}`}>\r\n                <circle className=\"ring-bg\" cx={size / 2} cy={size / 2} r={radius} />\r\n                <circle className=\"ring-fill\" cx={size / 2} cy={size / 2} r={radius}\r\n                    stroke=\"url(#ringGrad)\" strokeDasharray={circumference} strokeDashoffset={offset} />\r\n                <defs>\r\n                    <linearGradient id=\"ringGrad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                        <stop offset=\"0%\" stopColor=\"var(--purple-start)\" />\r\n                        <stop offset=\"100%\" stopColor=\"var(--teal-end)\" />\r\n                    </linearGradient>\r\n                </defs>\r\n            </svg>\r\n            <div className=\"ring-text\">{children}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction getIcon(icon: string) {\r\n    const icons: Record<string, string> = {\r\n        'piggy-bank': 'üê∑', 'house': 'üè°', 'car': 'üöó', 'vacation': 'üèñÔ∏è',\r\n        'emergency': 'üö®', 'wedding': 'üíç', 'education': 'üéì', 'savings': 'üí∞'\r\n    };\r\n    return icons[icon] || 'üí∞';\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 983, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/Login.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface LoginProps {\r\n    onLogin: (user: any) => void;\r\n}\r\n\r\nexport default function Login({ onLogin }: LoginProps) {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ username, password })\r\n            });\r\n\r\n            const data = await res.json();\r\n            if (!res.ok) { setError(data.error || 'Login failed'); return; }\r\n            onLogin(data.user);\r\n        } catch (err) {\r\n            setError('An error occurred. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <div className=\"login-card\">\r\n                <div className=\"login-brand\">\r\n                    <div className=\"login-logo\">üè°</div>\r\n                    <h1 className=\"login-title\">SavinGCs</h1>\r\n                    <p className=\"login-subtitle\">Track your journey together</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"card-glass\">\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\" htmlFor=\"username\">Username</label>\r\n                        <input\r\n                            id=\"username\"\r\n                            type=\"text\"\r\n                            className=\"form-input\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            placeholder=\"Enter username\"\r\n                            required\r\n                            autoComplete=\"username\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\" htmlFor=\"password\">Password</label>\r\n                        <input\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            className=\"form-input\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            placeholder=\"Enter password\"\r\n                            required\r\n                            autoComplete=\"current-password\"\r\n                        />\r\n                    </div>\r\n\r\n                    {error && <div className=\"error-badge\">{error}</div>}\r\n\r\n                    <button type=\"submit\" className=\"btn btn-primary\" style={{ width: '100%' }} disabled={loading}>\r\n                        {loading ? (\r\n                            <span style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" style={{ animation: 'spin 1s linear infinite' }}>\r\n                                    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"3\" fill=\"none\" strokeDasharray=\"60 30\" />\r\n                                </svg>\r\n                                Signing in...\r\n                            </span>\r\n                        ) : 'Sign In'}\r\n                    </button>\r\n\r\n                    <div className=\"cred-hint\">\r\n                        <strong>Default accounts:</strong><br />\r\n                        user1 / changeme123<br />\r\n                        user2 / changeme123\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            <style jsx>{`\r\n        @keyframes spin {\r\n          from { transform: rotate(0deg); }\r\n          to { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AAFA;;;;AAQe,SAAS,MAAM,EAAE,OAAO,EAAc;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wOAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wOAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wOAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wOAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,mBAAmB;gBACvC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAU;gBAAS;YAC9C;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBAAE,SAAS,KAAK,KAAK,IAAI;gBAAiB;YAAQ;YAC/D,QAAQ,KAAK,IAAI;QACrB,EAAE,OAAO,KAAK;YACV,SAAS;QACb,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,qQAAC;kDAAc;;0BACX,qQAAC;0DAAc;;kCACX,qQAAC;kEAAc;;0CACX,qQAAC;0EAAc;0CAAa;;;;;;0CAC5B,qQAAC;0EAAa;0CAAc;;;;;;0CAC5B,qQAAC;0EAAY;0CAAiB;;;;;;;;;;;;kCAGlC,qQAAC;wBAAK,UAAU;kEAAwB;;0CACpC,qQAAC;0EAAc;;kDACX,qQAAC;wCAA6B,SAAQ;kFAArB;kDAAgC;;;;;;kDACjD,qQAAC;wCACG,IAAG;wCACH,MAAK;wCAEL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,aAAY;wCACZ,QAAQ;wCACR,cAAa;kFALH;;;;;;;;;;;;0CASlB,qQAAC;0EAAc;;kDACX,qQAAC;wCAA6B,SAAQ;kFAArB;kDAAgC;;;;;;kDACjD,qQAAC;wCACG,IAAG;wCACH,MAAK;wCAEL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,aAAY;wCACZ,QAAQ;wCACR,cAAa;kFALH;;;;;;;;;;;;4BASjB,uBAAS,qQAAC;0EAAc;0CAAe;;;;;;0CAExC,qQAAC;gCAAO,MAAK;gCAAqC,OAAO;oCAAE,OAAO;gCAAO;gCAAG,UAAU;0EAAtD;0CAC3B,wBACG,qQAAC;oCAAK,OAAO;wCAAE,SAAS;wCAAQ,YAAY;wCAAU,KAAK;oCAAM;;;sDAC7D,qQAAC;4CAAI,OAAM;4CAAK,QAAO;4CAAK,SAAQ;4CAAY,OAAO;gDAAE,WAAW;4CAA0B;;sDAC1F,cAAA,qQAAC;gDAAO,IAAG;gDAAK,IAAG;gDAAK,GAAE;gDAAK,QAAO;gDAAe,aAAY;gDAAI,MAAK;gDAAO,iBAAgB;;;;;;;;;;;;wCAC/F;;;;;;2CAGV;;;;;;0CAGR,qQAAC;0EAAc;;kDACX,qQAAC;;kDAAO;;;;;;kDAA0B,qQAAC;;;;;;;oCAAK;kDACrB,qQAAC;;;;;;;oCAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcjD"}},
    {"offset": {"line": 1255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/SpreadsheetView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface Transaction {\r\n    id: number;\r\n    account_name: string;\r\n    pot_name: string;\r\n    user_name: string;\r\n    amount: number;\r\n    description: string;\r\n    transaction_date: string;\r\n}\r\n\r\nexport default function SpreadsheetView() {\r\n    const [transactions, setTransactions] = useState<Transaction[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => { fetchTransactions(); }, []);\r\n\r\n    const fetchTransactions = async () => {\r\n        try {\r\n            const res = await fetch('/api/transactions');\r\n            const data = await res.json();\r\n            setTransactions(data.transactions || []);\r\n        } catch (error) {\r\n            console.error('Error fetching transactions:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleExport = async () => {\r\n        try {\r\n            const res = await fetch('/api/export/csv');\r\n            const blob = await res.blob();\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n            a.download = `savings-tracker-${new Date().toISOString().split('T')[0]}.csv`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n            document.body.removeChild(a);\r\n        } catch (error) {\r\n            console.error('Export error:', error);\r\n            alert('Failed to export data');\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return <div className=\"skeleton\" style={{ height: '300px' }} />;\r\n    }\r\n\r\n    // Summary calculations\r\n    const totalDeposits = transactions.filter(t => t.amount > 0).reduce((s, t) => s + t.amount, 0);\r\n    const totalWithdrawals = transactions.filter(t => t.amount < 0).reduce((s, t) => s + Math.abs(t.amount), 0);\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Insights</div>\r\n                <button className=\"btn btn-secondary\" style={{ padding: '8px 16px', minHeight: 'auto', fontSize: '0.8rem' }} onClick={handleExport}>\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                        <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" /><polyline points=\"7 10 12 15 17 10\" /><line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\r\n                    </svg>\r\n                    Export CSV\r\n                </button>\r\n            </div>\r\n\r\n            {/* Summary cards */}\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'var(--sp-md)', marginBottom: 'var(--sp-xl)' }}>\r\n                <div className=\"card\" style={{ textAlign: 'center' }}>\r\n                    <div style={{ fontSize: '0.7rem', color: 'var(--text-tertiary)', textTransform: 'uppercase', letterSpacing: '0.08em', fontWeight: 600, marginBottom: '4px' }}>\r\n                        Total In\r\n                    </div>\r\n                    <div className=\"amount-positive\" style={{ fontSize: '1.2rem' }}>\r\n                        +¬£{totalDeposits.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"card\" style={{ textAlign: 'center' }}>\r\n                    <div style={{ fontSize: '0.7rem', color: 'var(--text-tertiary)', textTransform: 'uppercase', letterSpacing: '0.08em', fontWeight: 600, marginBottom: '4px' }}>\r\n                        Total Out\r\n                    </div>\r\n                    <div className=\"amount-negative\" style={{ fontSize: '1.2rem' }}>\r\n                        -¬£{totalWithdrawals.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Transaction list */}\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Recent Transactions</div>\r\n                <button className=\"section-link\">{transactions.length} total</button>\r\n            </div>\r\n\r\n            {transactions.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                    <div className=\"empty-state-icon\">üìã</div>\r\n                    <div className=\"empty-state-text\">No transactions yet.<br />Tap + to add your first one!</div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"stack\" style={{ gap: 'var(--sp-sm)' }}>\r\n                    {transactions.map((tx) => (\r\n                        <div key={tx.id} className=\"pot-item\" style={{ cursor: 'default' }}>\r\n                            <div className=\"pot-icon\" style={{\r\n                                background: tx.amount >= 0\r\n                                    ? 'linear-gradient(135deg, rgba(52, 211, 153, 0.2), rgba(52, 211, 153, 0.05))'\r\n                                    : 'linear-gradient(135deg, rgba(248, 113, 113, 0.2), rgba(248, 113, 113, 0.05))',\r\n                                fontSize: '1.1rem'\r\n                            }}>\r\n                                {tx.amount >= 0 ? '‚Üó' : '‚Üô'}\r\n                            </div>\r\n                            <div className=\"pot-info\">\r\n                                <div className=\"pot-name\">{tx.description || tx.account_name}</div>\r\n                                <div className=\"pot-meta\">\r\n                                    {tx.pot_name} ‚Ä¢ {tx.account_name} ‚Ä¢ {tx.user_name}\r\n                                </div>\r\n                                <div className=\"pot-meta\">\r\n                                    {new Date(tx.transaction_date).toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' })}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"pot-amount\">\r\n                                <span className={tx.amount >= 0 ? 'amount-positive' : 'amount-negative'}>\r\n                                    {tx.amount >= 0 ? '+' : '-'}¬£{Math.abs(tx.amount).toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAce,SAAS;IACpB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wOAAQ,EAAgB,EAAE;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wOAAQ,EAAC;IAEvC,IAAA,yOAAS,EAAC;QAAQ;IAAqB,GAAG,EAAE;IAE5C,MAAM,oBAAoB;QACtB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,gBAAgB,KAAK,YAAY,IAAI,EAAE;QAC3C,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,gCAAgC;QAClD,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,eAAe;QACjB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;YACvC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,IAAI,GAAG;YACT,EAAE,QAAQ,GAAG,CAAC,gBAAgB,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;YAC5E,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,EAAE,KAAK;YACP,OAAO,GAAG,CAAC,eAAe,CAAC;YAC3B,SAAS,IAAI,CAAC,WAAW,CAAC;QAC9B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,MAAM;QACV;IACJ;IAEA,IAAI,SAAS;QACT,qBAAO,qQAAC;YAAI,WAAU;YAAW,OAAO;gBAAE,QAAQ;YAAQ;;;;;;IAC9D;IAEA,uBAAuB;IACvB,MAAM,gBAAgB,aAAa,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,GAAG,GAAG,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,EAAE,MAAM,EAAE;IAC5F,MAAM,mBAAmB,aAAa,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,GAAG,GAAG,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,GAAG,CAAC,EAAE,MAAM,GAAG;IAEzG,qBACI,qQAAC;;0BACG,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBAAI,WAAU;kCAAgB;;;;;;kCAC/B,qQAAC;wBAAO,WAAU;wBAAoB,OAAO;4BAAE,SAAS;4BAAY,WAAW;4BAAQ,UAAU;wBAAS;wBAAG,SAAS;;0CAClH,qQAAC;gCAAI,OAAM;gCAAK,QAAO;gCAAK,SAAQ;gCAAY,MAAK;gCAAO,QAAO;gCAAe,aAAY;gCAAI,eAAc;gCAAQ,gBAAe;;kDACnI,qQAAC;wCAAK,GAAE;;;;;;kDAA8C,qQAAC;wCAAS,QAAO;;;;;;kDAAqB,qQAAC;wCAAK,IAAG;wCAAK,IAAG;wCAAK,IAAG;wCAAK,IAAG;;;;;;;;;;;;4BAC3H;;;;;;;;;;;;;0BAMd,qQAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,qBAAqB;oBAAW,KAAK;oBAAgB,cAAc;gBAAe;;kCAC7G,qQAAC;wBAAI,WAAU;wBAAO,OAAO;4BAAE,WAAW;wBAAS;;0CAC/C,qQAAC;gCAAI,OAAO;oCAAE,UAAU;oCAAU,OAAO;oCAAwB,eAAe;oCAAa,eAAe;oCAAU,YAAY;oCAAK,cAAc;gCAAM;0CAAG;;;;;;0CAG9J,qQAAC;gCAAI,WAAU;gCAAkB,OAAO;oCAAE,UAAU;gCAAS;;oCAAG;oCACzD,cAAc,cAAc,CAAC,SAAS;wCAAE,uBAAuB;oCAAE;;;;;;;;;;;;;kCAG5E,qQAAC;wBAAI,WAAU;wBAAO,OAAO;4BAAE,WAAW;wBAAS;;0CAC/C,qQAAC;gCAAI,OAAO;oCAAE,UAAU;oCAAU,OAAO;oCAAwB,eAAe;oCAAa,eAAe;oCAAU,YAAY;oCAAK,cAAc;gCAAM;0CAAG;;;;;;0CAG9J,qQAAC;gCAAI,WAAU;gCAAkB,OAAO;oCAAE,UAAU;gCAAS;;oCAAG;oCACzD,iBAAiB,cAAc,CAAC,SAAS;wCAAE,uBAAuB;oCAAE;;;;;;;;;;;;;;;;;;;0BAMnF,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBAAI,WAAU;kCAAgB;;;;;;kCAC/B,qQAAC;wBAAO,WAAU;;4BAAgB,aAAa,MAAM;4BAAC;;;;;;;;;;;;;YAGzD,aAAa,MAAM,KAAK,kBACrB,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBAAI,WAAU;kCAAmB;;;;;;kCAClC,qQAAC;wBAAI,WAAU;;4BAAmB;0CAAoB,qQAAC;;;;;4BAAK;;;;;;;;;;;;qCAGhE,qQAAC;gBAAI,WAAU;gBAAQ,OAAO;oBAAE,KAAK;gBAAe;0BAC/C,aAAa,GAAG,CAAC,CAAC,mBACf,qQAAC;wBAAgB,WAAU;wBAAW,OAAO;4BAAE,QAAQ;wBAAU;;0CAC7D,qQAAC;gCAAI,WAAU;gCAAW,OAAO;oCAC7B,YAAY,GAAG,MAAM,IAAI,IACnB,+EACA;oCACN,UAAU;gCACd;0CACK,GAAG,MAAM,IAAI,IAAI,MAAM;;;;;;0CAE5B,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCAAI,WAAU;kDAAY,GAAG,WAAW,IAAI,GAAG,YAAY;;;;;;kDAC5D,qQAAC;wCAAI,WAAU;;4CACV,GAAG,QAAQ;4CAAC;4CAAI,GAAG,YAAY;4CAAC;4CAAI,GAAG,SAAS;;;;;;;kDAErD,qQAAC;wCAAI,WAAU;kDACV,IAAI,KAAK,GAAG,gBAAgB,EAAE,kBAAkB,CAAC,SAAS;4CAAE,KAAK;4CAAW,OAAO;4CAAS,MAAM;wCAAU;;;;;;;;;;;;0CAGrH,qQAAC;gCAAI,WAAU;0CACX,cAAA,qQAAC;oCAAK,WAAW,GAAG,MAAM,IAAI,IAAI,oBAAoB;;wCACjD,GAAG,MAAM,IAAI,IAAI,MAAM;wCAAI;wCAAE,KAAK,GAAG,CAAC,GAAG,MAAM,EAAE,cAAc,CAAC,SAAS;4CAAE,uBAAuB;wCAAE;;;;;;;;;;;;;uBApBvG,GAAG,EAAE;;;;;;;;;;;;;;;;AA6BvC"}},
    {"offset": {"line": 1657, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/ManagePots.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface SavingsPot {\r\n    id: number;\r\n    name: string;\r\n    goal_amount: number | null;\r\n    color: string;\r\n    icon: string;\r\n}\r\n\r\ninterface ManagePotsProps {\r\n    onUpdate: () => void;\r\n}\r\n\r\nexport default function ManagePots({ onUpdate }: ManagePotsProps) {\r\n    const [pots, setPots] = useState<SavingsPot[]>([]);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({ name: '', goalAmount: '', color: '#7B2FE0', icon: 'piggy-bank' });\r\n\r\n    useEffect(() => { fetchPots(); }, []);\r\n\r\n    const fetchPots = async () => {\r\n        try {\r\n            const res = await fetch('/api/pots');\r\n            const data = await res.json();\r\n            setPots(data.pots || []);\r\n        } catch (error) { console.error('Error fetching pots:', error); }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await fetch('/api/pots', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name: formData.name,\r\n                    goalAmount: formData.goalAmount ? parseFloat(formData.goalAmount) : null,\r\n                    color: formData.color,\r\n                    icon: formData.icon,\r\n                    priority: 0\r\n                })\r\n            });\r\n            if (!res.ok) throw new Error('Failed to create pot');\r\n            setFormData({ name: '', goalAmount: '', color: '#7B2FE0', icon: 'piggy-bank' });\r\n            setShowForm(false);\r\n            fetchPots();\r\n            onUpdate();\r\n        } catch (error) {\r\n            console.error('Error creating pot:', error);\r\n            alert('Failed to create savings pot');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: number) => {\r\n        if (!confirm('Delete this pot and all its accounts/transactions?')) return;\r\n        try {\r\n            const res = await fetch(`/api/pots/${id}`, { method: 'DELETE' });\r\n            if (!res.ok) throw new Error('Failed to delete pot');\r\n            fetchPots();\r\n            onUpdate();\r\n        } catch (error) { console.error('Error deleting pot:', error); alert('Failed to delete pot'); }\r\n    };\r\n\r\n    const iconPairs: [string, string][] = [\r\n        ['house', 'üè°'],\r\n        ['piggy-bank', 'üê∑'],\r\n        ['car', 'üöó'],\r\n        ['vacation', 'üèñÔ∏è'],\r\n        ['emergency', 'üö®'],\r\n        ['wedding', 'üíç'],\r\n        ['education', 'üéì'],\r\n        ['savings', 'üí∞'],\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Savings Pots</div>\r\n                <button className=\"btn btn-primary\" style={{ padding: '8px 16px', minHeight: 'auto', fontSize: '0.8rem' }} onClick={() => setShowForm(!showForm)}>\r\n                    {showForm ? 'Cancel' : '+ New Pot'}\r\n                </button>\r\n            </div>\r\n\r\n            {showForm && (\r\n                <form onSubmit={handleSubmit} className=\"card mb-lg\">\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Pot Name</label>\r\n                        <input type=\"text\" className=\"form-input\" value={formData.name}\r\n                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                            placeholder=\"e.g., House Deposit\" required />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Goal Amount (¬£)</label>\r\n                        <input type=\"number\" step=\"0.01\" className=\"form-input\" value={formData.goalAmount}\r\n                            onChange={(e) => setFormData({ ...formData, goalAmount: e.target.value })}\r\n                            placeholder=\"Optional - e.g., 50000\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Icon</label>\r\n                        <div className=\"flex gap-sm\" style={{ flexWrap: 'wrap' }}>\r\n                            {iconPairs.map(([key, emoji]) => (\r\n                                <button key={key} type=\"button\"\r\n                                    onClick={() => setFormData({ ...formData, icon: key })}\r\n                                    style={{\r\n                                        width: '44px', height: '44px', borderRadius: 'var(--r-md)',\r\n                                        background: formData.icon === key ? 'var(--purple-start)' : 'var(--bg-secondary)',\r\n                                        border: formData.icon === key ? '2px solid var(--purple-mid)' : '1px solid var(--border)',\r\n                                        fontSize: '1.2rem', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                                        transition: 'all var(--t-fast)'\r\n                                    }}>{emoji}</button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Color</label>\r\n                        <div className=\"flex gap-sm\">\r\n                            {['#7B2FE0', '#059669', '#f59e0b', '#ef4444', '#3b82f6', '#ec4899', '#8b5cf6'].map((c) => (\r\n                                <button key={c} type=\"button\" onClick={() => setFormData({ ...formData, color: c })}\r\n                                    style={{\r\n                                        width: '36px', height: '36px', borderRadius: 'var(--r-full)', background: c,\r\n                                        border: formData.color === c ? '3px solid white' : '2px solid transparent',\r\n                                        cursor: 'pointer', transition: 'all var(--t-fast)'\r\n                                    }} />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-teal\" style={{ width: '100%' }}>Create Pot</button>\r\n                </form>\r\n            )}\r\n\r\n            <div className=\"stack\" style={{ gap: 'var(--sp-sm)' }}>\r\n                {pots.map((pot) => (\r\n                    <div key={pot.id} className=\"pot-item\">\r\n                        <div className=\"pot-icon\" style={{ background: `${pot.color}30`, fontSize: '1.3rem' }}>\r\n                            {iconPairs.find(([k]) => k === pot.icon)?.[1] || 'üí∞'}\r\n                        </div>\r\n                        <div className=\"pot-info\">\r\n                            <div className=\"pot-name\">{pot.name}</div>\r\n                            {pot.goal_amount && (\r\n                                <div className=\"pot-meta\">Goal: ¬£{pot.goal_amount.toLocaleString('en-GB')}</div>\r\n                            )}\r\n                        </div>\r\n                        <button onClick={() => handleDelete(pot.id)} className=\"icon-btn\" style={{ color: 'var(--error)' }}>\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                                <polyline points=\"3 6 5 6 21 6\" /><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/ManageAccounts.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface Account {\r\n    id: number;\r\n    pot_id: number;\r\n    pot_name: string;\r\n    pot_color: string;\r\n    account_name: string;\r\n    account_type: string;\r\n    current_balance: number;\r\n}\r\n\r\ninterface SavingsPot {\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\ninterface ManageAccountsProps {\r\n    onUpdate: () => void;\r\n}\r\n\r\nexport default function ManageAccounts({ onUpdate }: ManageAccountsProps) {\r\n    const [accounts, setAccounts] = useState<Account[]>([]);\r\n    const [pots, setPots] = useState<SavingsPot[]>([]);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({ potId: '', accountName: '', accountType: 'savings', currentBalance: '' });\r\n\r\n    useEffect(() => { fetchData(); }, []);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [accountsRes, potsRes] = await Promise.all([fetch('/api/accounts'), fetch('/api/pots')]);\r\n            const accountsData = await accountsRes.json();\r\n            const potsData = await potsRes.json();\r\n            setAccounts(accountsData.accounts || []);\r\n            setPots(potsData.pots || []);\r\n        } catch (error) { console.error('Error fetching data:', error); }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await fetch('/api/accounts', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    potId: parseInt(formData.potId),\r\n                    accountName: formData.accountName,\r\n                    accountType: formData.accountType,\r\n                    currentBalance: parseFloat(formData.currentBalance) || 0\r\n                })\r\n            });\r\n            if (!res.ok) throw new Error('Failed to create account');\r\n            setFormData({ potId: '', accountName: '', accountType: 'savings', currentBalance: '' });\r\n            setShowForm(false);\r\n            fetchData();\r\n            onUpdate();\r\n        } catch (error) { console.error('Error creating account:', error); alert('Failed to create account'); }\r\n    };\r\n\r\n    const handleDelete = async (id: number) => {\r\n        if (!confirm('Delete this account and all its transactions?')) return;\r\n        try {\r\n            const res = await fetch(`/api/accounts/${id}`, { method: 'DELETE' });\r\n            if (!res.ok) throw new Error('Failed to delete account');\r\n            fetchData();\r\n            onUpdate();\r\n        } catch (error) { console.error('Error deleting account:', error); alert('Failed to delete account'); }\r\n    };\r\n\r\n    const typeLabels: Record<string, string> = {\r\n        savings: 'Savings', isa: 'ISA', current: 'Current', investment: 'Investment', other: 'Other'\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Accounts</div>\r\n                <button className=\"btn btn-primary\" style={{ padding: '8px 16px', minHeight: 'auto', fontSize: '0.8rem' }} onClick={() => setShowForm(!showForm)}>\r\n                    {showForm ? 'Cancel' : '+ New Account'}\r\n                </button>\r\n            </div>\r\n\r\n            {showForm && (\r\n                <form onSubmit={handleSubmit} className=\"card mb-lg\">\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Savings Pot</label>\r\n                        <select className=\"form-select\" value={formData.potId}\r\n                            onChange={(e) => setFormData({ ...formData, potId: e.target.value })} required>\r\n                            <option value=\"\">Select a pot</option>\r\n                            {pots.map((pot) => (\r\n                                <option key={pot.id} value={pot.id}>{pot.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Account Name</label>\r\n                        <input type=\"text\" className=\"form-input\" value={formData.accountName}\r\n                            onChange={(e) => setFormData({ ...formData, accountName: e.target.value })}\r\n                            placeholder=\"e.g., HSBC Lifetime ISA\" required />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Account Type</label>\r\n                        <select className=\"form-select\" value={formData.accountType}\r\n                            onChange={(e) => setFormData({ ...formData, accountType: e.target.value })}>\r\n                            <option value=\"savings\">Savings Account</option>\r\n                            <option value=\"isa\">ISA</option>\r\n                            <option value=\"current\">Current Account</option>\r\n                            <option value=\"investment\">Investment Account</option>\r\n                            <option value=\"other\">Other</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Starting Balance (¬£)</label>\r\n                        <input type=\"number\" step=\"0.01\" className=\"form-input\" value={formData.currentBalance}\r\n                            onChange={(e) => setFormData({ ...formData, currentBalance: e.target.value })}\r\n                            placeholder=\"0.00\" style={{ fontFamily: 'var(--font-mono)' }} />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-teal\" style={{ width: '100%' }}>Create Account</button>\r\n                </form>\r\n            )}\r\n\r\n            <div className=\"stack\" style={{ gap: 'var(--sp-sm)' }}>\r\n                {accounts.map((account) => (\r\n                    <div key={account.id} className=\"pot-item\">\r\n                        <div className=\"pot-icon\" style={{\r\n                            background: `linear-gradient(135deg, ${account.pot_color || 'var(--purple-start)'}40, ${account.pot_color || 'var(--purple-start)'}10)`,\r\n                            fontSize: '1rem',\r\n                        }}>\r\n                            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={account.pot_color || 'var(--purple-mid)'} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                                <rect x=\"1\" y=\"4\" width=\"22\" height=\"16\" rx=\"2\" ry=\"2\" /><line x1=\"1\" y1=\"10\" x2=\"23\" y2=\"10\" />\r\n                            </svg>\r\n                        </div>\r\n                        <div className=\"pot-info\">\r\n                            <div className=\"pot-name\">{account.account_name}</div>\r\n                            <div className=\"pot-meta\">{account.pot_name} ‚Ä¢ {typeLabels[account.account_type] || account.account_type}</div>\r\n                        </div>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--sp-sm)' }}>\r\n                            <div className=\"pot-amount\" style={{ fontFamily: 'var(--font-mono)' }}>\r\n                                ¬£{account.current_balance.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                            </div>\r\n                            <button onClick={() => handleDelete(account.id)} className=\"icon-btn\" style={{ color: 'var(--error)', width: '32px', height: '32px' }}>\r\n                                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" /><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2614, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Dashboard from '@/components/Dashboard';\nimport Login from '@/components/Login';\nimport SpreadsheetView from '@/components/SpreadsheetView';\nimport ManagePots from '@/components/ManagePots';\nimport ManageAccounts from '@/components/ManageAccounts';\nimport UpdateBalanceForm from '@/components/UpdateBalanceForm';\n\nexport default function Home() {\n  const [user, setUser] = useState<any>(null);\n  const [currentView, setCurrentView] = useState<'home' | 'accounts' | 'history' | 'manage'>('home');\n  const [loading, setLoading] = useState(true);\n  const [showUpdateBalance, setShowUpdateBalance] = useState(false);\n  const [refreshKey, setRefreshKey] = useState(0);\n\n  useEffect(() => { checkSession(); }, []);\n\n  const checkSession = async () => {\n    try {\n      const res = await fetch('/api/auth/session');\n      if (res.ok) {\n        const data = await res.json();\n        if (data.authenticated) setUser(data.user);\n      }\n    } catch (error) {\n      console.error('Session check error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    await fetch('/api/auth/session', { method: 'POST' });\n    setUser(null);\n  };\n\n  const handleBalanceUpdated = () => {\n    setShowUpdateBalance(false);\n    setRefreshKey((prev) => prev + 1);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"app-shell\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', minHeight: '100dvh' }}>\n        <div className=\"skeleton\" style={{ width: '280px', height: '380px' }} />\n      </div>\n    );\n  }\n\n  if (!user) return <Login onLogin={setUser} />;\n\n  return (\n    <div className=\"app-shell\">\n      {/* Header */}\n      <div className=\"app-header\">\n        <div className=\"header-user\">\n          <div className=\"avatar\">\n            {user.displayName?.charAt(0) || 'U'}\n          </div>\n          <div>\n            <div className=\"header-greeting\">Welcome back</div>\n            <div className=\"header-name\">{user.displayName}</div>\n          </div>\n        </div>\n        <div className=\"header-actions\">\n          <button className=\"icon-btn\" onClick={handleLogout} title=\"Logout\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" /><polyline points=\"16 17 21 12 16 7\" /><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"app-content\">\n        {currentView === 'home' && <Dashboard key={refreshKey} onUpdateBalance={() => setShowUpdateBalance(true)} />}\n        {currentView === 'accounts' && <ManageAccounts key={refreshKey} onUpdate={() => setRefreshKey((prev) => prev + 1)} />}\n        {currentView === 'history' && <SpreadsheetView key={refreshKey} />}\n        {currentView === 'manage' && <ManagePots key={refreshKey} onUpdate={() => setRefreshKey((prev) => prev + 1)} />}\n      </div>\n\n      {/* Bottom Tab Bar */}\n      <nav className=\"tab-bar\">\n        <button className={`tab-item${currentView === 'home' ? ' active' : ''}`} onClick={() => setCurrentView('home')}>\n          <span className=\"tab-icon\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\" /><polyline points=\"9 22 9 12 15 12 15 22\" />\n            </svg>\n          </span>\n          Home\n        </button>\n\n        <button className={`tab-item${currentView === 'accounts' ? ' active' : ''}`} onClick={() => setCurrentView('accounts')}>\n          <span className=\"tab-icon\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <rect x=\"1\" y=\"4\" width=\"22\" height=\"16\" rx=\"2\" ry=\"2\" /><line x1=\"1\" y1=\"10\" x2=\"23\" y2=\"10\" />\n            </svg>\n          </span>\n          Accounts\n        </button>\n\n        {/* Center FAB ‚Äî Update Balance */}\n        <button className=\"tab-fab\" onClick={() => setShowUpdateBalance(true)} title=\"Update Balance\">\n          <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"23\" /><path d=\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\" />\n          </svg>\n        </button>\n\n        <button className={`tab-item${currentView === 'history' ? ' active' : ''}`} onClick={() => setCurrentView('history')}>\n          <span className=\"tab-icon\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" /><polyline points=\"12 6 12 12 16 14\" />\n            </svg>\n          </span>\n          History\n        </button>\n\n        <button className={`tab-item${currentView === 'manage' ? ' active' : ''}`} onClick={() => setCurrentView('manage')}>\n          <span className=\"tab-icon\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"12\" cy=\"12\" r=\"3\" /><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\" />\n            </svg>\n          </span>\n          Settings\n        </button>\n      </nav>\n\n      {/* Update Balance Bottom Sheet */}\n      {showUpdateBalance && (\n        <div className=\"modal-overlay\" onClick={(e) => { if (e.target === e.currentTarget) setShowUpdateBalance(false); }}>\n          <div className=\"modal-sheet\">\n            <div className=\"modal-handle\" />\n            <UpdateBalanceForm onSuccess={handleBalanceUpdated} currentUser={user} />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}