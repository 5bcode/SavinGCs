{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/Dashboard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface SavingsPot {\r\n    id: number;\r\n    name: string;\r\n    goal_amount: number | null;\r\n    color: string;\r\n    icon: string;\r\n    total_balance: number;\r\n}\r\n\r\nexport default function Dashboard() {\r\n    const [pots, setPots] = useState<SavingsPot[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => { fetchPots(); }, []);\r\n\r\n    const fetchPots = async () => {\r\n        try {\r\n            const res = await fetch('/api/pots');\r\n            const data = await res.json();\r\n            setPots(data.pots || []);\r\n        } catch (error) {\r\n            console.error('Error fetching pots:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const totalSavings = pots.reduce((sum, pot) => sum + (pot.total_balance || 0), 0);\r\n    const totalGoal = pots.reduce((sum, pot) => sum + (pot.goal_amount || 0), 0);\r\n    const overallProgress = totalGoal > 0 ? (totalSavings / totalGoal) * 100 : 0;\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"stack\">\r\n                <div className=\"skeleton\" style={{ height: '200px' }} />\r\n                <div className=\"skeleton\" style={{ height: '80px' }} />\r\n                <div className=\"skeleton\" style={{ height: '80px' }} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* Balance hero with ring */}\r\n            <div className=\"flex items-center justify-center gap-lg\" style={{ padding: 'var(--sp-md) 0 var(--sp-xl)' }}>\r\n                <ProgressRing percentage={Math.min(overallProgress, 100)} size={100} strokeWidth={7}>\r\n                    <div style={{ fontSize: '0.7rem', color: 'var(--text-tertiary)', fontWeight: 600 }}>\r\n                        {Math.min(overallProgress, 100).toFixed(0)}%\r\n                    </div>\r\n                </ProgressRing>\r\n                <div>\r\n                    <div className=\"balance-label\">Total Savings</div>\r\n                    <div className=\"balance-amount\">\r\n                        ¬£{totalSavings.toLocaleString('en-GB', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                    </div>\r\n                    {totalGoal > 0 && (\r\n                        <div style={{ fontSize: '0.8rem', color: 'var(--text-tertiary)', marginTop: '4px' }}>\r\n                            of ¬£{totalGoal.toLocaleString('en-GB')} goal\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Credit card style total overview */}\r\n            <div className=\"credit-card mb-xl\" style={{ position: 'relative' }}>\r\n                <div style={{ position: 'relative', zIndex: 1 }}>\r\n                    <div style={{ fontSize: '0.75rem', fontWeight: 600, opacity: 0.7, letterSpacing: '0.1em', textTransform: 'uppercase' }}>\r\n                        Savings Overview\r\n                    </div>\r\n                    <div style={{ fontSize: '0.8rem', opacity: 0.6, marginTop: '4px' }}>\r\n                        {pots.length} savings pot{pots.length !== 1 ? 's' : ''} ‚Ä¢ {pots.reduce((sum, p) => sum + (p.goal_amount ? 1 : 0), 0)} active goals\r\n                    </div>\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end', position: 'relative', zIndex: 1 }}>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.7rem', opacity: 0.6, marginBottom: '4px' }}>TOTAL BALANCE</div>\r\n                        <div style={{ fontFamily: 'var(--font-mono)', fontSize: '1.6rem', fontWeight: 700 }}>\r\n                            ¬£{totalSavings.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '6px' }}>\r\n                        <span style={{ width: '32px', height: '20px', borderRadius: '4px', background: 'rgba(255,255,255,0.2)' }} />\r\n                        <span style={{ width: '32px', height: '20px', borderRadius: '4px', background: 'rgba(255,255,255,0.15)' }} />\r\n                    </div>\r\n                </div>\r\n                {/* Wave SVG */}\r\n                <div className=\"wave-decoration\">\r\n                    <svg viewBox=\"0 0 400 80\" fill=\"none\" preserveAspectRatio=\"none\">\r\n                        <path d=\"M0 40 Q50 10 100 35 T200 30 T300 40 T400 25 L400 80 L0 80Z\" fill=\"rgba(13,148,136,0.3)\" />\r\n                        <path d=\"M0 50 Q60 25 120 45 T240 35 T360 50 T400 40 L400 80 L0 80Z\" fill=\"rgba(13,148,136,0.15)\" />\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Savings Pots */}\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Your Savings Pots</div>\r\n                <button className=\"section-link\">{pots.length} total</button>\r\n            </div>\r\n\r\n            {pots.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                    <div className=\"empty-state-icon\">üè°</div>\r\n                    <div className=\"empty-state-text\">\r\n                        No savings pots yet.<br />\r\n                        Go to Manage to create your first one!\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"stack\">\r\n                    {pots.map((pot) => (\r\n                        <PotCard key={pot.id} pot={pot} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction PotCard({ pot }: { pot: SavingsPot }) {\r\n    const progress = pot.goal_amount ? (pot.total_balance / pot.goal_amount) * 100 : 0;\r\n    const clampedProgress = Math.min(progress, 100);\r\n    const isGoalMet = pot.goal_amount && pot.total_balance >= pot.goal_amount;\r\n\r\n    const gradients: Record<string, string> = {\r\n        '#059669': 'linear-gradient(135deg, #0D9488, #5EEBD0)',\r\n        '#f59e0b': 'linear-gradient(135deg, #D97706, #FBBF24)',\r\n        '#ef4444': 'linear-gradient(135deg, #DC2626, #F87171)',\r\n        '#8b5cf6': 'linear-gradient(135deg, #7C3AED, #A78BFA)',\r\n        '#3b82f6': 'linear-gradient(135deg, #2563EB, #60A5FA)',\r\n        '#ec4899': 'linear-gradient(135deg, #DB2777, #F472B6)',\r\n    };\r\n\r\n    const iconBg = gradients[pot.color] || 'linear-gradient(135deg, var(--purple-start), var(--purple-mid))';\r\n\r\n    return (\r\n        <div className=\"pot-item\">\r\n            <div className=\"pot-icon\" style={{ background: iconBg }}>\r\n                {getIcon(pot.icon)}\r\n            </div>\r\n            <div className=\"pot-info\">\r\n                <div className=\"pot-name\">{pot.name}</div>\r\n                <div className=\"pot-meta\">\r\n                    {pot.goal_amount\r\n                        ? `${clampedProgress.toFixed(0)}% of ¬£${pot.goal_amount.toLocaleString('en-GB')}`\r\n                        : 'No goal set'\r\n                    }\r\n                </div>\r\n                {pot.goal_amount && (\r\n                    <div className=\"progress-track\">\r\n                        <div\r\n                            className={`progress-fill${isGoalMet ? '' : ' purple'}`}\r\n                            style={{ width: `${clampedProgress}%` }}\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div>\r\n                <div className=\"pot-amount\">\r\n                    ¬£{pot.total_balance.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                </div>\r\n                {isGoalMet && (\r\n                    <div style={{ fontSize: '0.7rem', color: 'var(--success)', fontWeight: 600, textAlign: 'right', marginTop: '2px' }}>\r\n                        ‚úì Reached\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ProgressRing({\r\n    percentage,\r\n    size = 80,\r\n    strokeWidth = 6,\r\n    children\r\n}: {\r\n    percentage: number;\r\n    size?: number;\r\n    strokeWidth?: number;\r\n    children?: React.ReactNode;\r\n}) {\r\n    const radius = (size - strokeWidth) / 2;\r\n    const circumference = radius * 2 * Math.PI;\r\n    const offset = circumference - (percentage / 100) * circumference;\r\n\r\n    return (\r\n        <div className=\"ring-container\" style={{ width: size, height: size }}>\r\n            <svg width={size} height={size} viewBox={`0 0 ${size} ${size}`}>\r\n                <circle className=\"ring-bg\" cx={size / 2} cy={size / 2} r={radius} />\r\n                <circle\r\n                    className=\"ring-fill\"\r\n                    cx={size / 2}\r\n                    cy={size / 2}\r\n                    r={radius}\r\n                    stroke=\"url(#ringGradient)\"\r\n                    strokeDasharray={circumference}\r\n                    strokeDashoffset={offset}\r\n                />\r\n                <defs>\r\n                    <linearGradient id=\"ringGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                        <stop offset=\"0%\" stopColor=\"var(--purple-start)\" />\r\n                        <stop offset=\"100%\" stopColor=\"var(--teal-end)\" />\r\n                    </linearGradient>\r\n                </defs>\r\n            </svg>\r\n            <div className=\"ring-text\">{children}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction getIcon(icon: string) {\r\n    const icons: Record<string, string> = {\r\n        'piggy-bank': 'üê∑',\r\n        'house': 'üè°',\r\n        'car': 'üöó',\r\n        'vacation': 'üèñÔ∏è',\r\n        'emergency': 'üö®',\r\n        'wedding': 'üíç',\r\n        'education': 'üéì',\r\n        'savings': 'üí∞'\r\n    };\r\n    return icons[icon] || 'üí∞';\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 647, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/Login.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface LoginProps {\r\n    onLogin: (user: any) => void;\r\n}\r\n\r\nexport default function Login({ onLogin }: LoginProps) {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ username, password })\r\n            });\r\n\r\n            const data = await res.json();\r\n            if (!res.ok) { setError(data.error || 'Login failed'); return; }\r\n            onLogin(data.user);\r\n        } catch (err) {\r\n            setError('An error occurred. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <div className=\"login-card\">\r\n                <div className=\"login-brand\">\r\n                    <div className=\"login-logo\">üè°</div>\r\n                    <h1 className=\"login-title\">SavinGCs</h1>\r\n                    <p className=\"login-subtitle\">Track your journey together</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"card-glass\">\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\" htmlFor=\"username\">Username</label>\r\n                        <input\r\n                            id=\"username\"\r\n                            type=\"text\"\r\n                            className=\"form-input\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            placeholder=\"Enter username\"\r\n                            required\r\n                            autoComplete=\"username\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\" htmlFor=\"password\">Password</label>\r\n                        <input\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            className=\"form-input\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            placeholder=\"Enter password\"\r\n                            required\r\n                            autoComplete=\"current-password\"\r\n                        />\r\n                    </div>\r\n\r\n                    {error && <div className=\"error-badge\">{error}</div>}\r\n\r\n                    <button type=\"submit\" className=\"btn btn-primary\" style={{ width: '100%' }} disabled={loading}>\r\n                        {loading ? (\r\n                            <span style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" style={{ animation: 'spin 1s linear infinite' }}>\r\n                                    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"3\" fill=\"none\" strokeDasharray=\"60 30\" />\r\n                                </svg>\r\n                                Signing in...\r\n                            </span>\r\n                        ) : 'Sign In'}\r\n                    </button>\r\n\r\n                    <div className=\"cred-hint\">\r\n                        <strong>Default accounts:</strong><br />\r\n                        user1 / changeme123<br />\r\n                        user2 / changeme123\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            <style jsx>{`\r\n        @keyframes spin {\r\n          from { transform: rotate(0deg); }\r\n          to { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AAFA;;;;AAQe,SAAS,MAAM,EAAE,OAAO,EAAc;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wOAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wOAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wOAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wOAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,mBAAmB;gBACvC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAU;gBAAS;YAC9C;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBAAE,SAAS,KAAK,KAAK,IAAI;gBAAiB;YAAQ;YAC/D,QAAQ,KAAK,IAAI;QACrB,EAAE,OAAO,KAAK;YACV,SAAS;QACb,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,qQAAC;kDAAc;;0BACX,qQAAC;0DAAc;;kCACX,qQAAC;kEAAc;;0CACX,qQAAC;0EAAc;0CAAa;;;;;;0CAC5B,qQAAC;0EAAa;0CAAc;;;;;;0CAC5B,qQAAC;0EAAY;0CAAiB;;;;;;;;;;;;kCAGlC,qQAAC;wBAAK,UAAU;kEAAwB;;0CACpC,qQAAC;0EAAc;;kDACX,qQAAC;wCAA6B,SAAQ;kFAArB;kDAAgC;;;;;;kDACjD,qQAAC;wCACG,IAAG;wCACH,MAAK;wCAEL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,aAAY;wCACZ,QAAQ;wCACR,cAAa;kFALH;;;;;;;;;;;;0CASlB,qQAAC;0EAAc;;kDACX,qQAAC;wCAA6B,SAAQ;kFAArB;kDAAgC;;;;;;kDACjD,qQAAC;wCACG,IAAG;wCACH,MAAK;wCAEL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,aAAY;wCACZ,QAAQ;wCACR,cAAa;kFALH;;;;;;;;;;;;4BASjB,uBAAS,qQAAC;0EAAc;0CAAe;;;;;;0CAExC,qQAAC;gCAAO,MAAK;gCAAqC,OAAO;oCAAE,OAAO;gCAAO;gCAAG,UAAU;0EAAtD;0CAC3B,wBACG,qQAAC;oCAAK,OAAO;wCAAE,SAAS;wCAAQ,YAAY;wCAAU,KAAK;oCAAM;;;sDAC7D,qQAAC;4CAAI,OAAM;4CAAK,QAAO;4CAAK,SAAQ;4CAAY,OAAO;gDAAE,WAAW;4CAA0B;;sDAC1F,cAAA,qQAAC;gDAAO,IAAG;gDAAK,IAAG;gDAAK,GAAE;gDAAK,QAAO;gDAAe,aAAY;gDAAI,MAAK;gDAAO,iBAAgB;;;;;;;;;;;;wCAC/F;;;;;;2CAGV;;;;;;0CAGR,qQAAC;0EAAc;;kDACX,qQAAC;;kDAAO;;;;;;kDAA0B,qQAAC;;;;;;;oCAAK;kDACrB,qQAAC;;;;;;;oCAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcjD"}},
    {"offset": {"line": 919, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/SpreadsheetView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface Transaction {\r\n    id: number;\r\n    account_name: string;\r\n    pot_name: string;\r\n    user_name: string;\r\n    amount: number;\r\n    description: string;\r\n    transaction_date: string;\r\n}\r\n\r\nexport default function SpreadsheetView() {\r\n    const [transactions, setTransactions] = useState<Transaction[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => { fetchTransactions(); }, []);\r\n\r\n    const fetchTransactions = async () => {\r\n        try {\r\n            const res = await fetch('/api/transactions');\r\n            const data = await res.json();\r\n            setTransactions(data.transactions || []);\r\n        } catch (error) {\r\n            console.error('Error fetching transactions:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleExport = async () => {\r\n        try {\r\n            const res = await fetch('/api/export/csv');\r\n            const blob = await res.blob();\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n            a.download = `savings-tracker-${new Date().toISOString().split('T')[0]}.csv`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n            document.body.removeChild(a);\r\n        } catch (error) {\r\n            console.error('Export error:', error);\r\n            alert('Failed to export data');\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return <div className=\"skeleton\" style={{ height: '300px' }} />;\r\n    }\r\n\r\n    // Summary calculations\r\n    const totalDeposits = transactions.filter(t => t.amount > 0).reduce((s, t) => s + t.amount, 0);\r\n    const totalWithdrawals = transactions.filter(t => t.amount < 0).reduce((s, t) => s + Math.abs(t.amount), 0);\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Insights</div>\r\n                <button className=\"btn btn-secondary\" style={{ padding: '8px 16px', minHeight: 'auto', fontSize: '0.8rem' }} onClick={handleExport}>\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                        <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" /><polyline points=\"7 10 12 15 17 10\" /><line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\r\n                    </svg>\r\n                    Export CSV\r\n                </button>\r\n            </div>\r\n\r\n            {/* Summary cards */}\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'var(--sp-md)', marginBottom: 'var(--sp-xl)' }}>\r\n                <div className=\"card\" style={{ textAlign: 'center' }}>\r\n                    <div style={{ fontSize: '0.7rem', color: 'var(--text-tertiary)', textTransform: 'uppercase', letterSpacing: '0.08em', fontWeight: 600, marginBottom: '4px' }}>\r\n                        Total In\r\n                    </div>\r\n                    <div className=\"amount-positive\" style={{ fontSize: '1.2rem' }}>\r\n                        +¬£{totalDeposits.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"card\" style={{ textAlign: 'center' }}>\r\n                    <div style={{ fontSize: '0.7rem', color: 'var(--text-tertiary)', textTransform: 'uppercase', letterSpacing: '0.08em', fontWeight: 600, marginBottom: '4px' }}>\r\n                        Total Out\r\n                    </div>\r\n                    <div className=\"amount-negative\" style={{ fontSize: '1.2rem' }}>\r\n                        -¬£{totalWithdrawals.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Transaction list */}\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Recent Transactions</div>\r\n                <button className=\"section-link\">{transactions.length} total</button>\r\n            </div>\r\n\r\n            {transactions.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                    <div className=\"empty-state-icon\">üìã</div>\r\n                    <div className=\"empty-state-text\">No transactions yet.<br />Tap + to add your first one!</div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"stack\" style={{ gap: 'var(--sp-sm)' }}>\r\n                    {transactions.map((tx) => (\r\n                        <div key={tx.id} className=\"pot-item\" style={{ cursor: 'default' }}>\r\n                            <div className=\"pot-icon\" style={{\r\n                                background: tx.amount >= 0\r\n                                    ? 'linear-gradient(135deg, rgba(52, 211, 153, 0.2), rgba(52, 211, 153, 0.05))'\r\n                                    : 'linear-gradient(135deg, rgba(248, 113, 113, 0.2), rgba(248, 113, 113, 0.05))',\r\n                                fontSize: '1.1rem'\r\n                            }}>\r\n                                {tx.amount >= 0 ? '‚Üó' : '‚Üô'}\r\n                            </div>\r\n                            <div className=\"pot-info\">\r\n                                <div className=\"pot-name\">{tx.description || tx.account_name}</div>\r\n                                <div className=\"pot-meta\">\r\n                                    {tx.pot_name} ‚Ä¢ {tx.account_name} ‚Ä¢ {tx.user_name}\r\n                                </div>\r\n                                <div className=\"pot-meta\">\r\n                                    {new Date(tx.transaction_date).toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' })}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"pot-amount\">\r\n                                <span className={tx.amount >= 0 ? 'amount-positive' : 'amount-negative'}>\r\n                                    {tx.amount >= 0 ? '+' : '-'}¬£{Math.abs(tx.amount).toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1321, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/TransactionForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface Account {\r\n    id: number;\r\n    pot_id: number;\r\n    account_name: string;\r\n    account_type: string;\r\n    current_balance: number;\r\n}\r\n\r\ninterface SavingsPot {\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\ninterface TransactionFormProps {\r\n    onSuccess: () => void;\r\n    currentUser: { id: number; username: string; displayName: string };\r\n}\r\n\r\nexport default function TransactionForm({ onSuccess, currentUser }: TransactionFormProps) {\r\n    const [accounts, setAccounts] = useState<Account[]>([]);\r\n    const [pots, setPots] = useState<SavingsPot[]>([]);\r\n    const [selectedAccountId, setSelectedAccountId] = useState('');\r\n    const [amount, setAmount] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [transactionDate, setTransactionDate] = useState(new Date().toISOString().split('T')[0]);\r\n    const [isDeposit, setIsDeposit] = useState(true);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => { fetchData(); }, []);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [accountsRes, potsRes] = await Promise.all([fetch('/api/accounts'), fetch('/api/pots')]);\r\n            const accountsData = await accountsRes.json();\r\n            const potsData = await potsRes.json();\r\n            setAccounts(accountsData.accounts || []);\r\n            setPots(potsData.pots || []);\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            const finalAmount = isDeposit ? parseFloat(amount) : -parseFloat(amount);\r\n            const res = await fetch('/api/transactions', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    accountId: parseInt(selectedAccountId),\r\n                    userId: currentUser.id,\r\n                    amount: finalAmount,\r\n                    description,\r\n                    transactionDate\r\n                })\r\n            });\r\n            if (!res.ok) throw new Error('Failed to create transaction');\r\n            setAmount('');\r\n            setDescription('');\r\n            setTransactionDate(new Date().toISOString().split('T')[0]);\r\n            onSuccess();\r\n        } catch (error) {\r\n            console.error('Error creating transaction:', error);\r\n            alert('Failed to create transaction');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <h2 style={{ marginBottom: 'var(--sp-lg)' }}>New Transaction</h2>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"form-label\">Type</label>\r\n                <div className=\"toggle-group\">\r\n                    <button type=\"button\" className={`toggle-option${isDeposit ? ' active' : ''}`} onClick={() => setIsDeposit(true)}>\r\n                        üí∞ Deposit\r\n                    </button>\r\n                    <button type=\"button\" className={`toggle-option${!isDeposit ? ' active' : ''}`} onClick={() => setIsDeposit(false)}>\r\n                        üí∏ Withdrawal\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"form-label\" htmlFor=\"tx-account\">Account</label>\r\n                <select\r\n                    id=\"tx-account\"\r\n                    className=\"form-select\"\r\n                    value={selectedAccountId}\r\n                    onChange={(e) => setSelectedAccountId(e.target.value)}\r\n                    required\r\n                >\r\n                    <option value=\"\">Select an account</option>\r\n                    {pots.map((pot) => {\r\n                        const potAccounts = accounts.filter((a) => a.pot_id === pot.id);\r\n                        return potAccounts.length > 0 ? (\r\n                            <optgroup key={pot.id} label={pot.name}>\r\n                                {potAccounts.map((account) => (\r\n                                    <option key={account.id} value={account.id}>\r\n                                        {account.account_name} (¬£{account.current_balance.toLocaleString('en-GB')})\r\n                                    </option>\r\n                                ))}\r\n                            </optgroup>\r\n                        ) : null;\r\n                    })}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"form-label\" htmlFor=\"tx-amount\">Amount (¬£)</label>\r\n                <input\r\n                    id=\"tx-amount\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    min=\"0.01\"\r\n                    className=\"form-input\"\r\n                    value={amount}\r\n                    onChange={(e) => setAmount(e.target.value)}\r\n                    placeholder=\"0.00\"\r\n                    style={{ fontFamily: 'var(--font-mono)', fontSize: '1.2rem', fontWeight: 700 }}\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"form-label\" htmlFor=\"tx-date\">Date</label>\r\n                <input\r\n                    id=\"tx-date\"\r\n                    type=\"date\"\r\n                    className=\"form-input\"\r\n                    value={transactionDate}\r\n                    onChange={(e) => setTransactionDate(e.target.value)}\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"form-label\" htmlFor=\"tx-description\">Description</label>\r\n                <input\r\n                    id=\"tx-description\"\r\n                    type=\"text\"\r\n                    className=\"form-input\"\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                    placeholder=\"e.g., Monthly savings\"\r\n                />\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"btn btn-primary\" style={{ width: '100%' }} disabled={loading}>\r\n                {loading ? 'Adding...' : `Add ${isDeposit ? 'Deposit' : 'Withdrawal'}`}\r\n            </button>\r\n        </form>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1629, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/ManagePots.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface SavingsPot {\r\n    id: number;\r\n    name: string;\r\n    goal_amount: number | null;\r\n    color: string;\r\n    icon: string;\r\n}\r\n\r\ninterface ManagePotsProps {\r\n    onUpdate: () => void;\r\n}\r\n\r\nexport default function ManagePots({ onUpdate }: ManagePotsProps) {\r\n    const [pots, setPots] = useState<SavingsPot[]>([]);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({ name: '', goalAmount: '', color: '#7B2FE0', icon: 'piggy-bank' });\r\n\r\n    useEffect(() => { fetchPots(); }, []);\r\n\r\n    const fetchPots = async () => {\r\n        try {\r\n            const res = await fetch('/api/pots');\r\n            const data = await res.json();\r\n            setPots(data.pots || []);\r\n        } catch (error) { console.error('Error fetching pots:', error); }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await fetch('/api/pots', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name: formData.name,\r\n                    goalAmount: formData.goalAmount ? parseFloat(formData.goalAmount) : null,\r\n                    color: formData.color,\r\n                    icon: formData.icon,\r\n                    priority: 0\r\n                })\r\n            });\r\n            if (!res.ok) throw new Error('Failed to create pot');\r\n            setFormData({ name: '', goalAmount: '', color: '#7B2FE0', icon: 'piggy-bank' });\r\n            setShowForm(false);\r\n            fetchPots();\r\n            onUpdate();\r\n        } catch (error) {\r\n            console.error('Error creating pot:', error);\r\n            alert('Failed to create savings pot');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: number) => {\r\n        if (!confirm('Delete this pot and all its accounts/transactions?')) return;\r\n        try {\r\n            const res = await fetch(`/api/pots/${id}`, { method: 'DELETE' });\r\n            if (!res.ok) throw new Error('Failed to delete pot');\r\n            fetchPots();\r\n            onUpdate();\r\n        } catch (error) { console.error('Error deleting pot:', error); alert('Failed to delete pot'); }\r\n    };\r\n\r\n    const iconPairs: [string, string][] = [\r\n        ['house', 'üè°'],\r\n        ['piggy-bank', 'üê∑'],\r\n        ['car', 'üöó'],\r\n        ['vacation', 'üèñÔ∏è'],\r\n        ['emergency', 'üö®'],\r\n        ['wedding', 'üíç'],\r\n        ['education', 'üéì'],\r\n        ['savings', 'üí∞'],\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Savings Pots</div>\r\n                <button className=\"btn btn-primary\" style={{ padding: '8px 16px', minHeight: 'auto', fontSize: '0.8rem' }} onClick={() => setShowForm(!showForm)}>\r\n                    {showForm ? 'Cancel' : '+ New Pot'}\r\n                </button>\r\n            </div>\r\n\r\n            {showForm && (\r\n                <form onSubmit={handleSubmit} className=\"card mb-lg\">\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Pot Name</label>\r\n                        <input type=\"text\" className=\"form-input\" value={formData.name}\r\n                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                            placeholder=\"e.g., House Deposit\" required />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Goal Amount (¬£)</label>\r\n                        <input type=\"number\" step=\"0.01\" className=\"form-input\" value={formData.goalAmount}\r\n                            onChange={(e) => setFormData({ ...formData, goalAmount: e.target.value })}\r\n                            placeholder=\"Optional - e.g., 50000\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Icon</label>\r\n                        <div className=\"flex gap-sm\" style={{ flexWrap: 'wrap' }}>\r\n                            {iconPairs.map(([key, emoji]) => (\r\n                                <button key={key} type=\"button\"\r\n                                    onClick={() => setFormData({ ...formData, icon: key })}\r\n                                    style={{\r\n                                        width: '44px', height: '44px', borderRadius: 'var(--r-md)',\r\n                                        background: formData.icon === key ? 'var(--purple-start)' : 'var(--bg-secondary)',\r\n                                        border: formData.icon === key ? '2px solid var(--purple-mid)' : '1px solid var(--border)',\r\n                                        fontSize: '1.2rem', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                                        transition: 'all var(--t-fast)'\r\n                                    }}>{emoji}</button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Color</label>\r\n                        <div className=\"flex gap-sm\">\r\n                            {['#7B2FE0', '#059669', '#f59e0b', '#ef4444', '#3b82f6', '#ec4899', '#8b5cf6'].map((c) => (\r\n                                <button key={c} type=\"button\" onClick={() => setFormData({ ...formData, color: c })}\r\n                                    style={{\r\n                                        width: '36px', height: '36px', borderRadius: 'var(--r-full)', background: c,\r\n                                        border: formData.color === c ? '3px solid white' : '2px solid transparent',\r\n                                        cursor: 'pointer', transition: 'all var(--t-fast)'\r\n                                    }} />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-teal\" style={{ width: '100%' }}>Create Pot</button>\r\n                </form>\r\n            )}\r\n\r\n            <div className=\"stack\" style={{ gap: 'var(--sp-sm)' }}>\r\n                {pots.map((pot) => (\r\n                    <div key={pot.id} className=\"pot-item\">\r\n                        <div className=\"pot-icon\" style={{ background: `${pot.color}30`, fontSize: '1.3rem' }}>\r\n                            {iconPairs.find(([k]) => k === pot.icon)?.[1] || 'üí∞'}\r\n                        </div>\r\n                        <div className=\"pot-info\">\r\n                            <div className=\"pot-name\">{pot.name}</div>\r\n                            {pot.goal_amount && (\r\n                                <div className=\"pot-meta\">Goal: ¬£{pot.goal_amount.toLocaleString('en-GB')}</div>\r\n                            )}\r\n                        </div>\r\n                        <button onClick={() => handleDelete(pot.id)} className=\"icon-btn\" style={{ color: 'var(--error)' }}>\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                                <polyline points=\"3 6 5 6 21 6\" /><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2072, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/components/ManageAccounts.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface Account {\r\n    id: number;\r\n    pot_id: number;\r\n    pot_name: string;\r\n    pot_color: string;\r\n    account_name: string;\r\n    account_type: string;\r\n    current_balance: number;\r\n}\r\n\r\ninterface SavingsPot {\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\ninterface ManageAccountsProps {\r\n    onUpdate: () => void;\r\n}\r\n\r\nexport default function ManageAccounts({ onUpdate }: ManageAccountsProps) {\r\n    const [accounts, setAccounts] = useState<Account[]>([]);\r\n    const [pots, setPots] = useState<SavingsPot[]>([]);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [formData, setFormData] = useState({ potId: '', accountName: '', accountType: 'savings', currentBalance: '' });\r\n\r\n    useEffect(() => { fetchData(); }, []);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [accountsRes, potsRes] = await Promise.all([fetch('/api/accounts'), fetch('/api/pots')]);\r\n            const accountsData = await accountsRes.json();\r\n            const potsData = await potsRes.json();\r\n            setAccounts(accountsData.accounts || []);\r\n            setPots(potsData.pots || []);\r\n        } catch (error) { console.error('Error fetching data:', error); }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await fetch('/api/accounts', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    potId: parseInt(formData.potId),\r\n                    accountName: formData.accountName,\r\n                    accountType: formData.accountType,\r\n                    currentBalance: parseFloat(formData.currentBalance) || 0\r\n                })\r\n            });\r\n            if (!res.ok) throw new Error('Failed to create account');\r\n            setFormData({ potId: '', accountName: '', accountType: 'savings', currentBalance: '' });\r\n            setShowForm(false);\r\n            fetchData();\r\n            onUpdate();\r\n        } catch (error) { console.error('Error creating account:', error); alert('Failed to create account'); }\r\n    };\r\n\r\n    const handleDelete = async (id: number) => {\r\n        if (!confirm('Delete this account and all its transactions?')) return;\r\n        try {\r\n            const res = await fetch(`/api/accounts/${id}`, { method: 'DELETE' });\r\n            if (!res.ok) throw new Error('Failed to delete account');\r\n            fetchData();\r\n            onUpdate();\r\n        } catch (error) { console.error('Error deleting account:', error); alert('Failed to delete account'); }\r\n    };\r\n\r\n    const typeLabels: Record<string, string> = {\r\n        savings: 'Savings', isa: 'ISA', current: 'Current', investment: 'Investment', other: 'Other'\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"section-header\">\r\n                <div className=\"section-title\">Accounts</div>\r\n                <button className=\"btn btn-primary\" style={{ padding: '8px 16px', minHeight: 'auto', fontSize: '0.8rem' }} onClick={() => setShowForm(!showForm)}>\r\n                    {showForm ? 'Cancel' : '+ New Account'}\r\n                </button>\r\n            </div>\r\n\r\n            {showForm && (\r\n                <form onSubmit={handleSubmit} className=\"card mb-lg\">\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Savings Pot</label>\r\n                        <select className=\"form-select\" value={formData.potId}\r\n                            onChange={(e) => setFormData({ ...formData, potId: e.target.value })} required>\r\n                            <option value=\"\">Select a pot</option>\r\n                            {pots.map((pot) => (\r\n                                <option key={pot.id} value={pot.id}>{pot.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Account Name</label>\r\n                        <input type=\"text\" className=\"form-input\" value={formData.accountName}\r\n                            onChange={(e) => setFormData({ ...formData, accountName: e.target.value })}\r\n                            placeholder=\"e.g., HSBC Lifetime ISA\" required />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Account Type</label>\r\n                        <select className=\"form-select\" value={formData.accountType}\r\n                            onChange={(e) => setFormData({ ...formData, accountType: e.target.value })}>\r\n                            <option value=\"savings\">Savings Account</option>\r\n                            <option value=\"isa\">ISA</option>\r\n                            <option value=\"current\">Current Account</option>\r\n                            <option value=\"investment\">Investment Account</option>\r\n                            <option value=\"other\">Other</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Starting Balance (¬£)</label>\r\n                        <input type=\"number\" step=\"0.01\" className=\"form-input\" value={formData.currentBalance}\r\n                            onChange={(e) => setFormData({ ...formData, currentBalance: e.target.value })}\r\n                            placeholder=\"0.00\" style={{ fontFamily: 'var(--font-mono)' }} />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-teal\" style={{ width: '100%' }}>Create Account</button>\r\n                </form>\r\n            )}\r\n\r\n            <div className=\"stack\" style={{ gap: 'var(--sp-sm)' }}>\r\n                {accounts.map((account) => (\r\n                    <div key={account.id} className=\"pot-item\">\r\n                        <div className=\"pot-icon\" style={{\r\n                            background: `linear-gradient(135deg, ${account.pot_color || 'var(--purple-start)'}40, ${account.pot_color || 'var(--purple-start)'}10)`,\r\n                            fontSize: '1rem',\r\n                        }}>\r\n                            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={account.pot_color || 'var(--purple-mid)'} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                                <rect x=\"1\" y=\"4\" width=\"22\" height=\"16\" rx=\"2\" ry=\"2\" /><line x1=\"1\" y1=\"10\" x2=\"23\" y2=\"10\" />\r\n                            </svg>\r\n                        </div>\r\n                        <div className=\"pot-info\">\r\n                            <div className=\"pot-name\">{account.account_name}</div>\r\n                            <div className=\"pot-meta\">{account.pot_name} ‚Ä¢ {typeLabels[account.account_type] || account.account_type}</div>\r\n                        </div>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--sp-sm)' }}>\r\n                            <div className=\"pot-amount\" style={{ fontFamily: 'var(--font-mono)' }}>\r\n                                ¬£{account.current_balance.toLocaleString('en-GB', { minimumFractionDigits: 2 })}\r\n                            </div>\r\n                            <button onClick={() => handleDelete(account.id)} className=\"icon-btn\" style={{ color: 'var(--error)', width: '32px', height: '32px' }}>\r\n                                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" /><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2586, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/G/Desktop/SavinGCs/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Dashboard from '@/components/Dashboard';\nimport Login from '@/components/Login';\nimport SpreadsheetView from '@/components/SpreadsheetView';\nimport TransactionForm from '@/components/TransactionForm';\nimport ManagePots from '@/components/ManagePots';\nimport ManageAccounts from '@/components/ManageAccounts';\n\nexport default function Home() {\n  const [user, setUser] = useState<any>(null);\n  const [currentView, setCurrentView] = useState<'home' | 'wallet' | 'insights' | 'manage'>('home');\n  const [loading, setLoading] = useState(true);\n  const [showTransactionForm, setShowTransactionForm] = useState(false);\n  const [refreshKey, setRefreshKey] = useState(0);\n\n  useEffect(() => {\n    checkSession();\n  }, []);\n\n  const checkSession = async () => {\n    try {\n      const res = await fetch('/api/auth/session');\n      if (res.ok) {\n        const data = await res.json();\n        if (data.authenticated) setUser(data.user);\n      }\n    } catch (error) {\n      console.error('Session check error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    await fetch('/api/auth/session', { method: 'POST' });\n    setUser(null);\n  };\n\n  const handleTransactionSuccess = () => {\n    setShowTransactionForm(false);\n    setRefreshKey((prev) => prev + 1);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"app-shell\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', minHeight: '100dvh' }}>\n        <div className=\"skeleton\" style={{ width: '280px', height: '380px' }} />\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <Login onLogin={setUser} />;\n  }\n\n  return (\n    <div className=\"app-shell\">\n      {/* Header */}\n      <div className=\"app-header\">\n        <div className=\"header-user\">\n          <div className=\"avatar\">\n            {user.displayName?.charAt(0) || 'U'}\n          </div>\n          <div>\n            <div className=\"header-greeting\">Welcome back</div>\n            <div className=\"header-name\">{user.displayName}</div>\n          </div>\n        </div>\n        <div className=\"header-actions\">\n          <button className=\"icon-btn\" onClick={handleLogout} title=\"Logout\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" /><polyline points=\"16 17 21 12 16 7\" /><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"app-content\">\n        {currentView === 'home' && <Dashboard key={refreshKey} />}\n        {currentView === 'insights' && <SpreadsheetView key={refreshKey} />}\n        {currentView === 'manage' && (\n          <div className=\"stack\">\n            <ManagePots onUpdate={() => setRefreshKey((prev) => prev + 1)} />\n            <ManageAccounts onUpdate={() => setRefreshKey((prev) => prev + 1)} />\n          </div>\n        )}\n      </div>\n\n      {/* Bottom Tab Bar */}\n      <nav className=\"tab-bar\">\n        <button className={`tab-item${currentView === 'home' ? ' active' : ''}`} onClick={() => setCurrentView('home')}>\n          <span className=\"tab-icon\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\" /><polyline points=\"9 22 9 12 15 12 15 22\" />\n            </svg>\n          </span>\n          Home\n        </button>\n\n        <button className={`tab-item${currentView === 'insights' ? ' active' : ''}`} onClick={() => setCurrentView('insights')}>\n          <span className=\"tab-icon\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <line x1=\"18\" y1=\"20\" x2=\"18\" y2=\"10\" /><line x1=\"12\" y1=\"20\" x2=\"12\" y2=\"4\" /><line x1=\"6\" y1=\"20\" x2=\"6\" y2=\"14\" />\n            </svg>\n          </span>\n          Insights\n        </button>\n\n        {/* Center FAB */}\n        <button className=\"tab-fab\" onClick={() => setShowTransactionForm(true)}>\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\">\n            <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" /><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n          </svg>\n        </button>\n\n        <button className={`tab-item${currentView === 'manage' ? ' active' : ''}`} onClick={() => setCurrentView('manage')}>\n          <span className=\"tab-icon\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"12\" cy=\"12\" r=\"3\" /><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\" />\n            </svg>\n          </span>\n          Manage\n        </button>\n\n        <button className=\"tab-item\" onClick={handleLogout}>\n          <span className=\"tab-icon\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" /><circle cx=\"12\" cy=\"7\" r=\"4\" />\n            </svg>\n          </span>\n          Account\n        </button>\n      </nav>\n\n      {/* Transaction Form Modal (iOS-style bottom sheet) */}\n      {showTransactionForm && (\n        <div className=\"modal-overlay\" onClick={(e) => { if (e.target === e.currentTarget) setShowTransactionForm(false); }}>\n          <div className=\"modal-sheet\">\n            <div className=\"modal-handle\" />\n            <TransactionForm onSuccess={handleTransactionSuccess} currentUser={user} />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}